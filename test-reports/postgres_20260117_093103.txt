============================================================
RSFGA Compatibility Test Report - postgres
URL: http://localhost:30081
Timestamp: 2026年 1月17日 星期六 09時31分03秒 CST
============================================================


--- test_section_1 ---

running 6 tests
test test_can_clean_up_test_stores ... FAILED
test test_can_connect_to_openfga_grpc_api ... FAILED
test test_can_connect_to_openfga_http_api ... FAILED
test test_can_create_store_via_api ... FAILED
test test_can_start_openfga_via_docker_compose ... FAILED
test test_environment_teardown_is_idempotent ... FAILED

failures:

---- test_can_clean_up_test_stores stdout ----

thread 'test_can_clean_up_test_stores' (1728513) panicked at crates/compatibility-tests/tests/test_section_1.rs:62:58:
CARGO_MANIFEST_DIR not set: NotPresent
note: run with `RUST_BACKTRACE=1` environment variable to display a backtrace

---- test_can_connect_to_openfga_grpc_api stdout ----

thread 'test_can_connect_to_openfga_grpc_api' (1728514) panicked at crates/compatibility-tests/tests/test_section_1.rs:62:58:
CARGO_MANIFEST_DIR not set: NotPresent

---- test_can_connect_to_openfga_http_api stdout ----

thread 'test_can_connect_to_openfga_http_api' (1728515) panicked at crates/compatibility-tests/tests/test_section_1.rs:62:58:
CARGO_MANIFEST_DIR not set: NotPresent

---- test_can_create_store_via_api stdout ----

thread 'test_can_create_store_via_api' (1728516) panicked at crates/compatibility-tests/tests/test_section_1.rs:62:58:
CARGO_MANIFEST_DIR not set: NotPresent

---- test_can_start_openfga_via_docker_compose stdout ----

thread 'test_can_start_openfga_via_docker_compose' (1728517) panicked at crates/compatibility-tests/tests/test_section_1.rs:62:58:
CARGO_MANIFEST_DIR not set: NotPresent

---- test_environment_teardown_is_idempotent stdout ----

thread 'test_environment_teardown_is_idempotent' (1728518) panicked at crates/compatibility-tests/tests/test_section_1.rs:62:58:
CARGO_MANIFEST_DIR not set: NotPresent


failures:
    test_can_clean_up_test_stores
    test_can_connect_to_openfga_grpc_api
    test_can_connect_to_openfga_http_api
    test_can_create_store_via_api
    test_can_start_openfga_via_docker_compose
    test_environment_teardown_is_idempotent

test result: FAILED. 0 passed; 6 failed; 0 ignored; 0 measured; 0 filtered out; finished in 0.00s

--- test_section_10_check_basic ---

running 10 tests
test test_check_direct_relation ... FAILED
test test_check_follows_computed_exclusion ... FAILED
test test_check_follows_computed_intersection ... FAILED
test test_check_follows_computed_union ... FAILED
test test_check_resolves_this_keyword ... FAILED
test test_check_returns_false_when_tuple_does_not_exist ... FAILED
test test_check_returns_true_when_tuple_exists ... FAILED
test test_check_with_contextual_tuples ... FAILED
test test_check_with_invalid_format ... FAILED
test test_check_with_nonexistent_store ... ok

failures:

---- test_check_direct_relation stdout ----
Error: Failed to create authorization model: 404 Not Found

---- test_check_follows_computed_exclusion stdout ----

thread 'test_check_follows_computed_exclusion' (1728547) panicked at crates/compatibility-tests/tests/test_section_10_check_basic.rs:404:5:
Creating exclusion model should succeed
note: run with `RUST_BACKTRACE=1` environment variable to display a backtrace

---- test_check_follows_computed_intersection stdout ----

thread 'test_check_follows_computed_intersection' (1728549) panicked at crates/compatibility-tests/tests/test_section_10_check_basic.rs:299:5:
Creating intersection model should succeed

---- test_check_follows_computed_union stdout ----

thread 'test_check_follows_computed_union' (1728551) panicked at crates/compatibility-tests/tests/test_section_10_check_basic.rs:199:5:
Creating union model should succeed

---- test_check_resolves_this_keyword stdout ----
Error: Failed to create authorization model: 404 Not Found

---- test_check_returns_false_when_tuple_does_not_exist stdout ----
Error: Failed to create authorization model: 404 Not Found

---- test_check_returns_true_when_tuple_exists stdout ----
Error: Failed to create authorization model: 404 Not Found

---- test_check_with_contextual_tuples stdout ----
Error: Failed to create authorization model: 404 Not Found

---- test_check_with_invalid_format stdout ----
Error: Failed to create authorization model: 404 Not Found


failures:
    test_check_direct_relation
    test_check_follows_computed_exclusion
    test_check_follows_computed_intersection
    test_check_follows_computed_union
    test_check_resolves_this_keyword
    test_check_returns_false_when_tuple_does_not_exist
    test_check_returns_true_when_tuple_exists
    test_check_with_contextual_tuples
    test_check_with_invalid_format

test result: FAILED. 1 passed; 9 failed; 0 ignored; 0 measured; 6 filtered out; finished in 0.20s

--- test_section_11_check_complex ---

running 8 tests
test test_check_cycle_detection ... FAILED
test test_check_deeply_nested_relations ... FAILED
test test_check_exclusion_but_not ... FAILED
test test_check_intersection_all_required ... FAILED
test test_check_multi_hop_relations ... FAILED
test test_check_respects_model_version ... FAILED
test test_check_union_multiple_relations ... FAILED
test test_check_with_wildcards ... FAILED

failures:

---- test_check_cycle_detection stdout ----

thread 'test_check_cycle_detection' (1728589) panicked at crates/compatibility-tests/tests/test_section_11_check_complex.rs:608:5:
Creating cycle detection model should succeed, got: 404 Not Found
note: run with `RUST_BACKTRACE=1` environment variable to display a backtrace

---- test_check_deeply_nested_relations stdout ----

thread 'test_check_deeply_nested_relations' (1728605) panicked at crates/compatibility-tests/tests/test_section_11_check_complex.rs:181:5:
Creating deep hierarchy model should succeed

---- test_check_exclusion_but_not stdout ----

thread 'test_check_exclusion_but_not' (1728607) panicked at crates/compatibility-tests/tests/test_section_11_check_complex.rs:501:5:
Creating exclusion model should succeed, got: 404 Not Found

---- test_check_intersection_all_required stdout ----

thread 'test_check_intersection_all_required' (1728609) panicked at crates/compatibility-tests/tests/test_section_11_check_complex.rs:403:5:
Creating intersection model should succeed, got: 404 Not Found

---- test_check_multi_hop_relations stdout ----

thread 'test_check_multi_hop_relations' (1728611) panicked at crates/compatibility-tests/tests/test_section_11_check_complex.rs:72:5:
Creating multi-hop model should succeed

---- test_check_respects_model_version stdout ----
Error: error decoding response body

Caused by:
    EOF while parsing a value at line 1 column 0

---- test_check_union_multiple_relations stdout ----

thread 'test_check_union_multiple_relations' (1728615) panicked at crates/compatibility-tests/tests/test_section_11_check_complex.rs:303:5:
Creating union model should succeed, got: 404 Not Found

---- test_check_with_wildcards stdout ----
Error: Failed to create authorization model: 404 Not Found


failures:
    test_check_cycle_detection
    test_check_deeply_nested_relations
    test_check_exclusion_but_not
    test_check_intersection_all_required
    test_check_multi_hop_relations
    test_check_respects_model_version
    test_check_union_multiple_relations
    test_check_with_wildcards

test result: FAILED. 0 passed; 8 failed; 0 ignored; 0 measured; 6 filtered out; finished in 0.22s

--- test_section_12_batch_check ---

running 6 tests
test test_batch_check_deduplication ... FAILED
test test_batch_check_empty_array ... FAILED
test test_batch_check_large_batch ... FAILED
test test_batch_check_mixed_results ... FAILED
test test_batch_check_multiple_tuples ... FAILED
test test_batch_check_preserves_order ... FAILED

failures:

---- test_batch_check_deduplication stdout ----
Error: Failed to create authorization model: 404 Not Found

---- test_batch_check_empty_array stdout ----
Error: Failed to create authorization model: 404 Not Found

---- test_batch_check_large_batch stdout ----
Error: Failed to create authorization model: 404 Not Found

---- test_batch_check_mixed_results stdout ----
Error: Failed to create authorization model: 404 Not Found

---- test_batch_check_multiple_tuples stdout ----
Error: Failed to create authorization model: 404 Not Found

---- test_batch_check_preserves_order stdout ----
Error: Failed to create authorization model: 404 Not Found


failures:
    test_batch_check_deduplication
    test_batch_check_empty_array
    test_batch_check_large_batch
    test_batch_check_mixed_results
    test_batch_check_multiple_tuples
    test_batch_check_preserves_order

test result: FAILED. 0 passed; 6 failed; 0 ignored; 0 measured; 6 filtered out; finished in 0.22s

--- test_section_13_check_performance ---

running 5 tests
test test_check_consistency_after_delete ... FAILED
test test_check_consistency_after_write ... FAILED
test test_check_latency_computed_union ... FAILED
test test_check_latency_deep_nested ... FAILED
test test_check_latency_direct_relation ... FAILED

failures:

---- test_check_consistency_after_delete stdout ----
Error: Failed to create authorization model: 404 Not Found

---- test_check_consistency_after_write stdout ----
Error: Failed to create authorization model: 404 Not Found

---- test_check_latency_computed_union stdout ----

thread 'test_check_latency_computed_union' (1728742) panicked at crates/compatibility-tests/tests/test_section_13_check_performance.rs:129:5:
Creating union model should succeed, got: 404 Not Found
note: run with `RUST_BACKTRACE=1` environment variable to display a backtrace

---- test_check_latency_deep_nested stdout ----

thread 'test_check_latency_deep_nested' (1728744) panicked at crates/compatibility-tests/tests/test_section_13_check_performance.rs:247:5:
Creating hierarchy model should succeed, got: 404 Not Found

---- test_check_latency_direct_relation stdout ----
Error: Failed to create authorization model: 404 Not Found


failures:
    test_check_consistency_after_delete
    test_check_consistency_after_write
    test_check_latency_computed_union
    test_check_latency_deep_nested
    test_check_latency_direct_relation

test result: FAILED. 0 passed; 5 failed; 0 ignored; 0 measured; 6 filtered out; finished in 0.19s

--- test_section_14_expand_api ---

running 9 tests
test test_expand_includes_difference_branches ... FAILED
test test_expand_includes_intersection_branches ... FAILED
test test_expand_includes_union_branches ... FAILED
test test_expand_returns_relation_tree ... FAILED
test test_expand_shows_computed_relations ... FAILED
test test_expand_shows_direct_relations_as_leaf ... FAILED
test test_expand_tree_is_deterministic ... FAILED
test test_expand_with_invalid_store ... FAILED
test test_expand_with_nonexistent_object ... FAILED

failures:

---- test_expand_includes_difference_branches stdout ----
Error: Failed to create authorization model: 404 Not Found

---- test_expand_includes_intersection_branches stdout ----
Error: Failed to create authorization model: 404 Not Found

---- test_expand_includes_union_branches stdout ----
Error: Failed to create authorization model: 404 Not Found

---- test_expand_returns_relation_tree stdout ----
Error: Failed to create authorization model: 404 Not Found

---- test_expand_shows_computed_relations stdout ----
Error: Failed to create authorization model: 404 Not Found

---- test_expand_shows_direct_relations_as_leaf stdout ----
Error: Failed to create authorization model: 404 Not Found

---- test_expand_tree_is_deterministic stdout ----
Error: Failed to create authorization model: 404 Not Found

---- test_expand_with_invalid_store stdout ----

thread 'test_expand_with_invalid_store' (1728788) panicked at crates/compatibility-tests/tests/test_section_14_expand_api.rs:619:5:
Expand with non-existent store should return 404 or 400, got: 422 Unprocessable Entity
note: run with `RUST_BACKTRACE=1` environment variable to display a backtrace

---- test_expand_with_nonexistent_object stdout ----
Error: Failed to create authorization model: 404 Not Found


failures:
    test_expand_includes_difference_branches
    test_expand_includes_intersection_branches
    test_expand_includes_union_branches
    test_expand_returns_relation_tree
    test_expand_shows_computed_relations
    test_expand_shows_direct_relations_as_leaf
    test_expand_tree_is_deterministic
    test_expand_with_invalid_store
    test_expand_with_nonexistent_object

test result: FAILED. 0 passed; 9 failed; 0 ignored; 0 measured; 6 filtered out; finished in 0.20s

--- test_section_15_listobjects_api ---

running 7 tests
test test_listobjects_returns_accessible_objects ... FAILED
test test_listobjects_with_computed_relations ... FAILED
test test_listobjects_with_contextual_tuples ... FAILED
test test_listobjects_with_direct_relations ... FAILED
test test_listobjects_with_no_accessible_objects ... FAILED
test test_listobjects_with_type_filter ... FAILED
test test_listobjects_with_wildcards ... FAILED

failures:

---- test_listobjects_returns_accessible_objects stdout ----
Error: Failed to create authorization model: 404 Not Found

---- test_listobjects_with_computed_relations stdout ----
Error: Failed to create authorization model: 404 Not Found

---- test_listobjects_with_contextual_tuples stdout ----
Error: Failed to create authorization model: 404 Not Found

---- test_listobjects_with_direct_relations stdout ----
Error: Failed to create authorization model: 404 Not Found

---- test_listobjects_with_no_accessible_objects stdout ----
Error: Failed to create authorization model: 404 Not Found

---- test_listobjects_with_type_filter stdout ----
Error: Failed to create authorization model: 404 Not Found

---- test_listobjects_with_wildcards stdout ----
Error: Failed to create authorization model: 404 Not Found


failures:
    test_listobjects_returns_accessible_objects
    test_listobjects_with_computed_relations
    test_listobjects_with_contextual_tuples
    test_listobjects_with_direct_relations
    test_listobjects_with_no_accessible_objects
    test_listobjects_with_type_filter
    test_listobjects_with_wildcards

test result: FAILED. 0 passed; 7 failed; 0 ignored; 0 measured; 6 filtered out; finished in 0.19s

--- test_section_16_edge_cases ---

running 4 tests
test test_complex_nested_computed_relations ... FAILED
test test_expand_with_circular_relations ... FAILED
test test_expand_with_deep_relation_tree ... FAILED
test test_listobjects_with_large_result_set ... FAILED

failures:

---- test_complex_nested_computed_relations stdout ----
Error: Failed to create authorization model: 404 Not Found

---- test_expand_with_circular_relations stdout ----
Error: Failed to create authorization model: 404 Not Found

---- test_expand_with_deep_relation_tree stdout ----
Error: Failed to create authorization model: 404 Not Found

---- test_listobjects_with_large_result_set stdout ----
Error: Failed to create authorization model: 404 Not Found


failures:
    test_complex_nested_computed_relations
    test_expand_with_circular_relations
    test_expand_with_deep_relation_tree
    test_listobjects_with_large_result_set

test result: FAILED. 0 passed; 4 failed; 0 ignored; 0 measured; 6 filtered out; finished in 0.17s

--- test_section_17_error_format ---

running 6 tests
test test_400_bad_request_format ... FAILED
test test_404_not_found_format ... FAILED
test test_500_error_format_documentation ... ok
test test_error_codes_match_openfga_enum ... FAILED
test test_error_response_consistent_across_endpoints ... FAILED
test test_validation_errors_include_field_details ... FAILED

failures:

---- test_400_bad_request_format stdout ----

thread 'test_400_bad_request_format' (1728892) panicked at crates/compatibility-tests/tests/test_section_17_error_format.rs:36:5:
assertion `left == right` failed: Invalid store ID format should return 400
  left: 404
 right: 400
note: run with `RUST_BACKTRACE=1` environment variable to display a backtrace

---- test_404_not_found_format stdout ----

thread 'test_404_not_found_format' (1728898) panicked at crates/compatibility-tests/tests/test_section_17_error_format.rs:108:5:
assertion `left == right` failed: Non-existent store should return store_id_not_found code
  left: "not_found"
 right: "store_id_not_found"

---- test_error_codes_match_openfga_enum stdout ----

thread 'test_error_codes_match_openfga_enum' (1728901) panicked at crates/compatibility-tests/tests/test_section_17_error_format.rs:279:5:
assertion `left == right` failed
  left: "not_found"
 right: "validation_error"

---- test_error_response_consistent_across_endpoints stdout ----
Error: error decoding response body

Caused by:
    EOF while parsing a value at line 1 column 0

---- test_validation_errors_include_field_details stdout ----
Error: Failed to create authorization model: 404 Not Found


failures:
    test_400_bad_request_format
    test_404_not_found_format
    test_error_codes_match_openfga_enum
    test_error_response_consistent_across_endpoints
    test_validation_errors_include_field_details

test result: FAILED. 1 passed; 5 failed; 0 ignored; 0 measured; 6 filtered out; finished in 0.18s

--- test_section_18_rate_limiting ---

running 3 tests
test test_api_rate_limiting_behavior ... ok
test test_rate_limit_headers ... ok
test test_retry_after_header_format ... ok

test result: ok. 3 passed; 0 failed; 0 ignored; 0 measured; 6 filtered out; finished in 0.20s

--- test_section_19_consistency ---

running 4 tests
test test_check_during_model_update ... FAILED
test test_check_with_stale_model_id ... FAILED
test test_concurrent_writes_to_same_tuple ... FAILED
test test_read_after_write_consistency ... FAILED

failures:

---- test_check_during_model_update stdout ----
Error: Failed to create authorization model: 404 Not Found

---- test_check_with_stale_model_id stdout ----
Error: Failed to create authorization model: 404 Not Found

---- test_concurrent_writes_to_same_tuple stdout ----
Error: Failed to create authorization model: 404 Not Found

---- test_read_after_write_consistency stdout ----
Error: Failed to create authorization model: 404 Not Found


failures:
    test_check_during_model_update
    test_check_with_stale_model_id
    test_concurrent_writes_to_same_tuple
    test_read_after_write_consistency

test result: FAILED. 0 passed; 4 failed; 0 ignored; 0 measured; 6 filtered out; finished in 0.18s

--- test_section_2 ---

running 9 tests
test test_can_generate_authorization_models_with_computed_relations ... ok
test test_can_generate_authorization_models_with_direct_relations ... ok
test test_can_generate_authorization_models_with_intersection_relations ... ok
test test_can_generate_authorization_models_with_union_relations ... ok
test test_can_generate_models_with_deeply_nested_relations ... ok
test test_can_generate_valid_object_identifiers ... ok
test test_can_generate_valid_relation_names ... ok
test test_can_generate_valid_tuples ... ok
test test_can_generate_valid_user_identifiers ... ok

test result: ok. 9 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out; finished in 0.00s

--- test_section_20_limits ---

running 6 tests
test test_maximum_authorization_model_size ... FAILED
test test_maximum_checks_in_batch ... FAILED
test test_maximum_relation_depth ... FAILED
test test_maximum_tuple_size ... FAILED
test test_maximum_tuples_in_single_write ... FAILED
test test_request_timeout_behavior ... FAILED

failures:

---- test_maximum_authorization_model_size stdout ----

thread 'test_maximum_authorization_model_size' (1729032) panicked at crates/compatibility-tests/tests/test_section_20_limits.rs:380:5:
Model with 51 types should succeed (got 404 Not Found)
note: run with `RUST_BACKTRACE=1` environment variable to display a backtrace

---- test_maximum_checks_in_batch stdout ----
Error: Failed to create authorization model: 404 Not Found

---- test_maximum_relation_depth stdout ----
Error: Failed to create authorization model: 404 Not Found

---- test_maximum_tuple_size stdout ----
Error: Failed to create authorization model: 404 Not Found

---- test_maximum_tuples_in_single_write stdout ----
Error: Failed to create authorization model: 404 Not Found

---- test_request_timeout_behavior stdout ----
Error: Failed to create authorization model: 404 Not Found


failures:
    test_maximum_authorization_model_size
    test_maximum_checks_in_batch
    test_maximum_relation_depth
    test_maximum_tuple_size
    test_maximum_tuples_in_single_write
    test_request_timeout_behavior

test result: FAILED. 0 passed; 6 failed; 0 ignored; 0 measured; 6 filtered out; finished in 0.19s

--- test_section_21_grpc_setup ---

running 6 tests
test test_can_call_authorization_model_service_methods ... FAILED
test test_can_call_check_service_methods ... FAILED
test test_can_call_store_service_methods ... FAILED
test test_can_call_tuple_service_methods ... FAILED
test test_can_connect_to_openfga_grpc_service ... FAILED
test test_grpc_reflection_works ... FAILED

failures:

---- test_can_call_authorization_model_service_methods stdout ----
Error: grpcurl failed: Failed to dial target host "localhost:30082": connection error: desc = "transport: error while dialing: dial tcp [::1]:30082: connect: connection refused"
 

---- test_can_call_check_service_methods stdout ----
Error: grpcurl failed: Failed to dial target host "localhost:30082": connection error: desc = "transport: error while dialing: dial tcp [::1]:30082: connect: connection refused"
 

---- test_can_call_store_service_methods stdout ----
Error: grpcurl failed: Failed to dial target host "localhost:30082": connection error: desc = "transport: error while dialing: dial tcp [::1]:30082: connect: connection refused"
 

---- test_can_call_tuple_service_methods stdout ----
Error: grpcurl failed: Failed to dial target host "localhost:30082": connection error: desc = "transport: error while dialing: dial tcp [::1]:30082: connect: connection refused"
 

---- test_can_connect_to_openfga_grpc_service stdout ----
Error: grpcurl list failed: Failed to dial target host "localhost:30082": connection error: desc = "transport: error while dialing: dial tcp [::1]:30082: connect: connection refused"


---- test_grpc_reflection_works stdout ----
Error: grpcurl describe failed: Failed to dial target host "localhost:30082": connection error: desc = "transport: error while dialing: dial tcp [::1]:30082: connect: connection refused"



failures:
    test_can_call_authorization_model_service_methods
    test_can_call_check_service_methods
    test_can_call_store_service_methods
    test_can_call_tuple_service_methods
    test_can_connect_to_openfga_grpc_service
    test_grpc_reflection_works

test result: FAILED. 0 passed; 6 failed; 0 ignored; 0 measured; 6 filtered out; finished in 0.12s

--- test_section_22_grpc_parity ---

running 9 tests
test test_grpc_batch_check_matches_rest ... FAILED
test test_grpc_check_matches_rest ... FAILED
test test_grpc_expand_matches_rest ... FAILED
test test_grpc_listobjects_matches_rest ... FAILED
test test_grpc_read_matches_rest ... FAILED
test test_grpc_store_create_matches_rest ... FAILED
test test_grpc_store_delete_matches_rest ... FAILED
test test_grpc_store_get_matches_rest ... FAILED
test test_grpc_write_matches_rest ... FAILED

failures:

---- test_grpc_batch_check_matches_rest stdout ----
Error: REST call failed with status 404 Not Found: 

---- test_grpc_check_matches_rest stdout ----
Error: REST call failed with status 404 Not Found: 

---- test_grpc_expand_matches_rest stdout ----
Error: REST call failed with status 404 Not Found: 

---- test_grpc_listobjects_matches_rest stdout ----
Error: REST call failed with status 404 Not Found: 

---- test_grpc_read_matches_rest stdout ----
Error: REST call failed with status 404 Not Found: 

---- test_grpc_store_create_matches_rest stdout ----
Error: grpcurl failed: Failed to dial target host "localhost:30082": connection error: desc = "transport: error while dialing: dial tcp [::1]:30082: connect: connection refused"
 

---- test_grpc_store_delete_matches_rest stdout ----
Error: grpcurl failed: Failed to dial target host "localhost:30082": connection error: desc = "transport: error while dialing: dial tcp [::1]:30082: connect: connection refused"
 

---- test_grpc_store_get_matches_rest stdout ----
Error: grpcurl failed: Failed to dial target host "localhost:30082": connection error: desc = "transport: error while dialing: dial tcp [::1]:30082: connect: connection refused"
 

---- test_grpc_write_matches_rest stdout ----
Error: REST call failed with status 404 Not Found: 


failures:
    test_grpc_batch_check_matches_rest
    test_grpc_check_matches_rest
    test_grpc_expand_matches_rest
    test_grpc_listobjects_matches_rest
    test_grpc_read_matches_rest
    test_grpc_store_create_matches_rest
    test_grpc_store_delete_matches_rest
    test_grpc_store_get_matches_rest
    test_grpc_write_matches_rest

test result: FAILED. 0 passed; 9 failed; 0 ignored; 0 measured; 6 filtered out; finished in 0.21s

--- test_section_23_grpc_features ---

running 4 tests
test test_grpc_error_codes_match_http ... FAILED
test test_grpc_error_details_format ... FAILED
test test_grpc_metadata_headers ... FAILED
test test_grpc_streaming_not_supported ... FAILED

failures:

---- test_grpc_error_codes_match_http stdout ----

thread 'test_grpc_error_codes_match_http' (1729249) panicked at crates/compatibility-tests/tests/test_section_23_grpc_features.rs:236:5:
gRPC error should be InvalidArgument: Failed to dial target host "localhost:30082": connection error: desc = "transport: error while dialing: dial tcp [::1]:30082: connect: connection refused"

note: run with `RUST_BACKTRACE=1` environment variable to display a backtrace

---- test_grpc_error_details_format stdout ----

thread 'test_grpc_error_details_format' (1729258) panicked at crates/compatibility-tests/tests/test_section_23_grpc_features.rs:333:5:
Error should contain error code: Failed to dial target host "localhost:30082": connection error: desc = "transport: error while dialing: dial tcp [::1]:30082: connect: connection refused"


---- test_grpc_metadata_headers stdout ----

thread 'test_grpc_metadata_headers' (1729266) panicked at crates/compatibility-tests/tests/test_section_23_grpc_features.rs:170:5:
Request with custom headers should succeed: Failed to dial target host "localhost:30082": connection error: desc = "transport: error while dialing: dial tcp [::1]:30082: connect: connection refused"


---- test_grpc_streaming_not_supported stdout ----
Error: grpcurl describe failed: Failed to dial target host "localhost:30082": connection error: desc = "transport: error while dialing: dial tcp [::1]:30082: connect: connection refused"



failures:
    test_grpc_error_codes_match_http
    test_grpc_error_details_format
    test_grpc_metadata_headers
    test_grpc_streaming_not_supported

test result: FAILED. 0 passed; 4 failed; 0 ignored; 0 measured; 6 filtered out; finished in 0.20s

--- test_section_24_model_conditions ---

running 8 tests
test test_can_create_model_with_conditions ... FAILED
test test_can_retrieve_model_with_conditions ... FAILED
test test_condition_parameter_types ... FAILED
test test_condition_structure_name_expression_parameters ... FAILED
test test_condition_uses_cel_syntax ... FAILED
test test_invalid_condition_expression_returns_400 ... FAILED
test test_relation_references_condition ... FAILED
test test_undefined_condition_reference_returns_400 ... FAILED

failures:

---- test_can_create_model_with_conditions stdout ----
Error: Failed to create authorization model: 404 Not Found

---- test_can_retrieve_model_with_conditions stdout ----
Error: Failed to create authorization model: 404 Not Found

---- test_condition_parameter_types stdout ----
Error: Failed to create authorization model: 404 Not Found

---- test_condition_structure_name_expression_parameters stdout ----
Error: Failed to create authorization model: 404 Not Found

---- test_condition_uses_cel_syntax stdout ----
Error: Failed to create authorization model: 404 Not Found

---- test_invalid_condition_expression_returns_400 stdout ----

thread 'test_invalid_condition_expression_returns_400' (1729319) panicked at crates/compatibility-tests/tests/test_section_24_model_conditions.rs:463:5:
assertion `left == right` failed: Invalid CEL expression should return 400
  left: 404
 right: 400
note: run with `RUST_BACKTRACE=1` environment variable to display a backtrace

---- test_relation_references_condition stdout ----
Error: Failed to create authorization model: 404 Not Found

---- test_undefined_condition_reference_returns_400 stdout ----

thread 'test_undefined_condition_reference_returns_400' (1729323) panicked at crates/compatibility-tests/tests/test_section_24_model_conditions.rs:519:5:
assertion `left == right` failed: Undefined condition reference should return 400
  left: 404
 right: 400


failures:
    test_can_create_model_with_conditions
    test_can_retrieve_model_with_conditions
    test_condition_parameter_types
    test_condition_structure_name_expression_parameters
    test_condition_uses_cel_syntax
    test_invalid_condition_expression_returns_400
    test_relation_references_condition
    test_undefined_condition_reference_returns_400

test result: FAILED. 0 passed; 8 failed; 0 ignored; 0 measured; 6 filtered out; finished in 0.21s

--- test_section_25_tuple_conditions ---

running 7 tests
test test_can_delete_tuple_with_condition ... FAILED
test test_can_write_multiple_tuples_with_different_conditions ... FAILED
test test_can_write_tuple_with_condition_context ... FAILED
test test_can_write_tuple_with_condition_name ... FAILED
test test_condition_context_values_match_types ... FAILED
test test_writing_tuple_with_mismatched_context_types_returns_400 ... FAILED
test test_writing_tuple_with_undefined_condition_returns_400 ... FAILED

failures:

---- test_can_delete_tuple_with_condition stdout ----
Error: Failed to create authorization model: 404 Not Found

---- test_can_write_multiple_tuples_with_different_conditions stdout ----
Error: Failed to create authorization model: 404 Not Found

---- test_can_write_tuple_with_condition_context stdout ----
Error: Failed to create authorization model: 404 Not Found

---- test_can_write_tuple_with_condition_name stdout ----
Error: Failed to create authorization model: 404 Not Found

---- test_condition_context_values_match_types stdout ----
Error: Failed to create authorization model: 404 Not Found

---- test_writing_tuple_with_mismatched_context_types_returns_400 stdout ----
Error: Failed to create authorization model: 404 Not Found

---- test_writing_tuple_with_undefined_condition_returns_400 stdout ----
Error: Failed to create authorization model: 404 Not Found


failures:
    test_can_delete_tuple_with_condition
    test_can_write_multiple_tuples_with_different_conditions
    test_can_write_tuple_with_condition_context
    test_can_write_tuple_with_condition_name
    test_condition_context_values_match_types
    test_writing_tuple_with_mismatched_context_types_returns_400
    test_writing_tuple_with_undefined_condition_returns_400

test result: FAILED. 0 passed; 7 failed; 0 ignored; 0 measured; 6 filtered out; finished in 0.19s

--- test_section_26_read_conditions ---

running 4 tests
test test_read_filter_tuples_by_condition ... FAILED
test test_read_returns_tuple_with_condition_context ... FAILED
test test_read_returns_tuple_with_condition_name ... FAILED
test test_tuple_response_format_matches_spec ... FAILED

failures:

---- test_read_filter_tuples_by_condition stdout ----
Error: Failed to create authorization model: 404 Not Found

---- test_read_returns_tuple_with_condition_context stdout ----
Error: Failed to create authorization model: 404 Not Found

---- test_read_returns_tuple_with_condition_name stdout ----
Error: Failed to create authorization model: 404 Not Found

---- test_tuple_response_format_matches_spec stdout ----
Error: Failed to create authorization model: 404 Not Found


failures:
    test_read_filter_tuples_by_condition
    test_read_returns_tuple_with_condition_context
    test_read_returns_tuple_with_condition_name
    test_tuple_response_format_matches_spec

test result: FAILED. 0 passed; 4 failed; 0 ignored; 0 measured; 6 filtered out; finished in 0.17s

--- test_section_27_check_conditions ---

running 12 tests
test test_batch_check_evaluates_conditions ... FAILED
test test_check_accepts_context_parameter ... FAILED
test test_check_returns_false_when_condition_evaluates_false ... FAILED
test test_check_returns_true_when_condition_evaluates_true ... FAILED
test test_check_with_partial_context_returns_error ... FAILED
test test_check_with_wrong_context_type_returns_error ... FAILED
test test_check_without_required_context_returns_error ... FAILED
test test_condition_evaluation_with_list_membership ... FAILED
test test_condition_evaluation_with_logical_operators ... FAILED
test test_condition_evaluation_with_string_operations ... FAILED
test test_condition_evaluation_with_timestamp_comparison ... FAILED
test test_contextual_tuples_with_conditions ... FAILED

failures:

---- test_batch_check_evaluates_conditions stdout ----
Error: Failed to create authorization model: 404 Not Found

---- test_check_accepts_context_parameter stdout ----
Error: Failed to create authorization model: 404 Not Found

---- test_check_returns_false_when_condition_evaluates_false stdout ----
Error: Failed to create authorization model: 404 Not Found

---- test_check_returns_true_when_condition_evaluates_true stdout ----
Error: Failed to create authorization model: 404 Not Found

---- test_check_with_partial_context_returns_error stdout ----
Error: Failed to create authorization model: 404 Not Found

---- test_check_with_wrong_context_type_returns_error stdout ----
Error: Failed to create authorization model: 404 Not Found

---- test_check_without_required_context_returns_error stdout ----
Error: Failed to create authorization model: 404 Not Found

---- test_condition_evaluation_with_list_membership stdout ----
Error: Failed to create authorization model: 404 Not Found

---- test_condition_evaluation_with_logical_operators stdout ----
Error: Failed to create authorization model: 404 Not Found

---- test_condition_evaluation_with_string_operations stdout ----
Error: Failed to create authorization model: 404 Not Found

---- test_condition_evaluation_with_timestamp_comparison stdout ----
Error: Failed to create authorization model: 404 Not Found

---- test_contextual_tuples_with_conditions stdout ----
Error: Failed to create authorization model: 404 Not Found


failures:
    test_batch_check_evaluates_conditions
    test_check_accepts_context_parameter
    test_check_returns_false_when_condition_evaluates_false
    test_check_returns_true_when_condition_evaluates_true
    test_check_with_partial_context_returns_error
    test_check_with_wrong_context_type_returns_error
    test_check_without_required_context_returns_error
    test_condition_evaluation_with_list_membership
    test_condition_evaluation_with_logical_operators
    test_condition_evaluation_with_string_operations
    test_condition_evaluation_with_timestamp_comparison
    test_contextual_tuples_with_conditions

test result: FAILED. 0 passed; 12 failed; 0 ignored; 0 measured; 6 filtered out; finished in 0.21s

--- test_section_28_cel_edge_cases ---

running 8 tests
test test_cel_expression_division_by_zero ... FAILED
test test_cel_expression_timeout_behavior ... FAILED
test test_cel_expression_undefined_variable ... FAILED
test test_deeply_nested_map_values_in_context ... FAILED
test test_empty_context_no_required_params ... FAILED
test test_large_list_values_in_context ... FAILED
test test_null_values_in_context ... FAILED
test test_very_long_string_values_in_context ... FAILED

failures:

---- test_cel_expression_division_by_zero stdout ----
Error: Failed to create authorization model: 404 Not Found

---- test_cel_expression_timeout_behavior stdout ----
Error: Failed to create authorization model: 404 Not Found

---- test_cel_expression_undefined_variable stdout ----
Error: Failed to create authorization model: 404 Not Found

---- test_deeply_nested_map_values_in_context stdout ----
Error: Failed to create authorization model: 404 Not Found

---- test_empty_context_no_required_params stdout ----
Error: Failed to create authorization model: 404 Not Found

---- test_large_list_values_in_context stdout ----
Error: Failed to create authorization model: 404 Not Found

---- test_null_values_in_context stdout ----
Error: Failed to create authorization model: 404 Not Found

---- test_very_long_string_values_in_context stdout ----
Error: Failed to create authorization model: 404 Not Found


failures:
    test_cel_expression_division_by_zero
    test_cel_expression_timeout_behavior
    test_cel_expression_undefined_variable
    test_deeply_nested_map_values_in_context
    test_empty_context_no_required_params
    test_large_list_values_in_context
    test_null_values_in_context
    test_very_long_string_values_in_context

test result: FAILED. 0 passed; 8 failed; 0 ignored; 0 measured; 6 filtered out; finished in 0.20s

--- test_section_29_condition_performance ---

running 4 tests
test test_compare_conditional_vs_non_conditional_latency ... FAILED
test test_measure_batch_check_with_conditions ... FAILED
test test_measure_check_latency_complex_condition ... FAILED
test test_measure_check_latency_simple_condition ... FAILED

failures:

---- test_compare_conditional_vs_non_conditional_latency stdout ----
Error: Failed to create authorization model: 404 Not Found

---- test_measure_batch_check_with_conditions stdout ----
Error: Failed to create authorization model: 404 Not Found

---- test_measure_check_latency_complex_condition stdout ----
Error: Failed to create authorization model: 404 Not Found

---- test_measure_check_latency_simple_condition stdout ----
Error: Failed to create authorization model: 404 Not Found


failures:
    test_compare_conditional_vs_non_conditional_latency
    test_measure_batch_check_with_conditions
    test_measure_check_latency_complex_condition
    test_measure_check_latency_simple_condition

test result: FAILED. 0 passed; 4 failed; 0 ignored; 0 measured; 6 filtered out; finished in 0.18s

--- test_section_3 ---

running 8 tests
test test_can_capture_grpc_request_response_pairs ... ok
test test_can_capture_http_request_response_pairs ... ok
test test_can_compare_two_responses_for_equality ... ok
test test_can_detect_breaking_changes_in_arrays ... ok
test test_can_detect_breaking_changes_in_nested_objects ... ok
test test_can_detect_breaking_changes_in_response_format ... ok
test test_can_load_captured_test_cases_from_disk ... ok
test test_can_serialize_captured_data_to_json ... ok

test result: ok. 8 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out; finished in 0.00s

--- test_section_30_listusers_api ---

running 8 tests
test test_listusers_empty_result ... FAILED
test test_listusers_invalid_type_error ... FAILED
test test_listusers_nonexistent_store_error ... ok
test test_listusers_returns_users_with_direct_relation ... FAILED
test test_listusers_returns_wildcard ... FAILED
test test_listusers_with_computed_relations ... FAILED
test test_listusers_with_contextual_tuples ... FAILED
test test_listusers_with_userset_filter ... FAILED

failures:

---- test_listusers_empty_result stdout ----
Error: Failed to create authorization model: 404 Not Found

---- test_listusers_invalid_type_error stdout ----
Error: Failed to create authorization model: 404 Not Found

---- test_listusers_returns_users_with_direct_relation stdout ----
Error: Failed to create authorization model: 404 Not Found

---- test_listusers_returns_wildcard stdout ----
Error: Failed to create authorization model: 404 Not Found

---- test_listusers_with_computed_relations stdout ----
Error: Failed to create authorization model: 404 Not Found

---- test_listusers_with_contextual_tuples stdout ----
Error: Failed to create authorization model: 404 Not Found

---- test_listusers_with_userset_filter stdout ----
Error: Failed to create authorization model: 404 Not Found


failures:
    test_listusers_empty_result
    test_listusers_invalid_type_error
    test_listusers_returns_users_with_direct_relation
    test_listusers_returns_wildcard
    test_listusers_with_computed_relations
    test_listusers_with_contextual_tuples
    test_listusers_with_userset_filter

test result: FAILED. 1 passed; 7 failed; 0 ignored; 0 measured; 6 filtered out; finished in 0.19s

--- test_section_31_readchanges_api ---

running 10 tests
test test_readchanges_chronological_order ... FAILED
test test_readchanges_continuation_token ... FAILED
test test_readchanges_empty_for_new_store ... FAILED
test test_readchanges_nonexistent_store_error ... ok
test test_readchanges_pagination_page_size ... FAILED
test test_readchanges_returns_tuple_writes ... FAILED
test test_readchanges_returns_writes_and_deletes ... FAILED
test test_readchanges_same_token_when_no_changes ... FAILED
test test_readchanges_type_filter_mismatch_with_token ... FAILED
test test_readchanges_with_type_filter ... FAILED

failures:

---- test_readchanges_chronological_order stdout ----
Error: Failed to create authorization model: 404 Not Found

---- test_readchanges_continuation_token stdout ----
Error: Failed to create authorization model: 404 Not Found

---- test_readchanges_empty_for_new_store stdout ----
Error: Failed to create authorization model: 404 Not Found

---- test_readchanges_pagination_page_size stdout ----
Error: Failed to create authorization model: 404 Not Found

---- test_readchanges_returns_tuple_writes stdout ----
Error: Failed to create authorization model: 404 Not Found

---- test_readchanges_returns_writes_and_deletes stdout ----
Error: Failed to create authorization model: 404 Not Found

---- test_readchanges_same_token_when_no_changes stdout ----
Error: Failed to create authorization model: 404 Not Found

---- test_readchanges_type_filter_mismatch_with_token stdout ----
Error: Failed to create authorization model: 404 Not Found

---- test_readchanges_with_type_filter stdout ----
Error: Failed to create authorization model: 404 Not Found


failures:
    test_readchanges_chronological_order
    test_readchanges_continuation_token
    test_readchanges_empty_for_new_store
    test_readchanges_pagination_page_size
    test_readchanges_returns_tuple_writes
    test_readchanges_returns_writes_and_deletes
    test_readchanges_same_token_when_no_changes
    test_readchanges_type_filter_mismatch_with_token
    test_readchanges_with_type_filter

test result: FAILED. 1 passed; 9 failed; 0 ignored; 0 measured; 6 filtered out; finished in 0.20s

--- test_section_32_assertions_api ---

running 9 tests
test test_assertions_invalid_model_id_error ... FAILED
test test_assertions_mixed_expectations ... FAILED
test test_assertions_nonexistent_store_error ... ok
test test_assertions_with_contextual_tuples ... FAILED
test test_read_assertions_returns_assertions ... FAILED
test test_read_assertions_when_none_exist ... FAILED
test test_write_assertions_creates_assertions ... FAILED
test test_write_assertions_replaces_existing ... FAILED
test test_write_empty_assertions ... FAILED

failures:

---- test_assertions_invalid_model_id_error stdout ----
Error: Failed to create authorization model: 404 Not Found

---- test_assertions_mixed_expectations stdout ----
Error: Failed to create authorization model: 404 Not Found

---- test_assertions_with_contextual_tuples stdout ----
Error: Failed to create authorization model: 404 Not Found

---- test_read_assertions_returns_assertions stdout ----
Error: Failed to create authorization model: 404 Not Found

---- test_read_assertions_when_none_exist stdout ----
Error: Failed to create authorization model: 404 Not Found

---- test_write_assertions_creates_assertions stdout ----
Error: Failed to create authorization model: 404 Not Found

---- test_write_assertions_replaces_existing stdout ----
Error: Failed to create authorization model: 404 Not Found

---- test_write_empty_assertions stdout ----
Error: Failed to create authorization model: 404 Not Found


failures:
    test_assertions_invalid_model_id_error
    test_assertions_mixed_expectations
    test_assertions_with_contextual_tuples
    test_read_assertions_returns_assertions
    test_read_assertions_when_none_exist
    test_write_assertions_creates_assertions
    test_write_assertions_replaces_existing
    test_write_empty_assertions

test result: FAILED. 1 passed; 8 failed; 0 ignored; 0 measured; 6 filtered out; finished in 0.19s

--- test_section_33_consistency_preference ---

running 9 tests
test test_batchcheck_accepts_consistency_parameter ... FAILED
test test_check_accepts_consistency_parameter ... FAILED
test test_check_with_higher_consistency ... FAILED
test test_check_with_unspecified_consistency ... FAILED
test test_consistency_modes_return_same_results ... FAILED
test test_expand_accepts_consistency_parameter ... FAILED
test test_invalid_consistency_value_error ... FAILED
test test_listobjects_accepts_consistency_parameter ... FAILED
test test_listusers_accepts_consistency_parameter ... FAILED

failures:

---- test_batchcheck_accepts_consistency_parameter stdout ----
Error: Failed to create authorization model: 404 Not Found

---- test_check_accepts_consistency_parameter stdout ----
Error: Failed to create authorization model: 404 Not Found

---- test_check_with_higher_consistency stdout ----
Error: Failed to create authorization model: 404 Not Found

---- test_check_with_unspecified_consistency stdout ----
Error: Failed to create authorization model: 404 Not Found

---- test_consistency_modes_return_same_results stdout ----
Error: Failed to create authorization model: 404 Not Found

---- test_expand_accepts_consistency_parameter stdout ----
Error: Failed to create authorization model: 404 Not Found

---- test_invalid_consistency_value_error stdout ----
Error: Failed to create authorization model: 404 Not Found

---- test_listobjects_accepts_consistency_parameter stdout ----
Error: Failed to create authorization model: 404 Not Found

---- test_listusers_accepts_consistency_parameter stdout ----
Error: Failed to create authorization model: 404 Not Found


failures:
    test_batchcheck_accepts_consistency_parameter
    test_check_accepts_consistency_parameter
    test_check_with_higher_consistency
    test_check_with_unspecified_consistency
    test_consistency_modes_return_same_results
    test_expand_accepts_consistency_parameter
    test_invalid_consistency_value_error
    test_listobjects_accepts_consistency_parameter
    test_listusers_accepts_consistency_parameter

test result: FAILED. 0 passed; 9 failed; 0 ignored; 0 measured; 6 filtered out; finished in 0.20s

--- test_section_34_streamed_listobjects ---

running 5 tests
test test_streamed_listobjects_empty_results ... ok
test test_streamed_listobjects_error_handling ... ok
test test_streamed_listobjects_large_result_set ... ok
test test_streamed_listobjects_returns_same_as_listobjects ... ok
test test_streamed_listobjects_with_contextual_tuples ... ok

test result: ok. 5 passed; 0 failed; 0 ignored; 0 measured; 6 filtered out; finished in 0.07s

--- test_section_35_modular_models ---

running 7 tests
test test_create_model_schema_1_2 ... ok
test test_invalid_schema_version_error ... ok
test test_model_retrieval_includes_schema_version ... FAILED
test test_schema_1_2_backwards_compatible ... FAILED
test test_schema_1_2_computed_relation_compatibility ... ok
test test_schema_1_2_multi_type_model_compatibility ... ok
test test_schema_1_2_with_organization_type ... ok

failures:

---- test_model_retrieval_includes_schema_version stdout ----
Error: error decoding response body

Caused by:
    EOF while parsing a value at line 1 column 0

---- test_schema_1_2_backwards_compatible stdout ----

thread 'test_schema_1_2_backwards_compatible' (1729912) panicked at crates/compatibility-tests/tests/test_section_35_modular_models.rs:245:5:
Creating 1.1 model should succeed
note: run with `RUST_BACKTRACE=1` environment variable to display a backtrace


failures:
    test_model_retrieval_includes_schema_version
    test_schema_1_2_backwards_compatible

test result: FAILED. 5 passed; 2 failed; 0 ignored; 0 measured; 6 filtered out; finished in 0.19s

--- test_section_4 ---

running 9 tests
test test_delete_store_deletes_store ... ok
test test_delete_store_returns_400_for_nonexistent_store ... FAILED
test test_get_store_retrieves_store_by_id ... ok
test test_get_store_returns_400_for_nonexistent_store ... FAILED
test test_list_stores_continuation_token_works ... FAILED
test test_list_stores_respects_page_size_parameter ... FAILED
test test_list_stores_returns_paginated_results ... ok
test test_post_stores_creates_store_with_generated_id ... ok
test test_post_stores_returns_created_store_in_response ... ok

failures:

---- test_delete_store_returns_400_for_nonexistent_store stdout ----

thread 'test_delete_store_returns_400_for_nonexistent_store' (1729949) panicked at crates/compatibility-tests/tests/test_section_4.rs:244:5:
assertion `left == right` failed: DELETE non-existent store should return 400, got: 404 Not Found
  left: 404
 right: 400
note: run with `RUST_BACKTRACE=1` environment variable to display a backtrace

---- test_get_store_returns_400_for_nonexistent_store stdout ----

thread 'test_get_store_returns_400_for_nonexistent_store' (1729953) panicked at crates/compatibility-tests/tests/test_section_4.rs:171:5:
assertion `left == right` failed: GET non-existent store should return 400, got: 404 Not Found
  left: 404
 right: 400

---- test_list_stores_continuation_token_works stdout ----

thread 'test_list_stores_continuation_token_works' (1729955) panicked at crates/compatibility-tests/tests/test_section_4.rs:380:10:
continuation_token should be present when more results exist

---- test_list_stores_respects_page_size_parameter stdout ----

thread 'test_list_stores_respects_page_size_parameter' (1729958) panicked at crates/compatibility-tests/tests/test_section_4.rs:335:5:
assertion `left == right` failed: Page size=3 should return exactly 3 stores, got: 182
  left: 182
 right: 3


failures:
    test_delete_store_returns_400_for_nonexistent_store
    test_get_store_returns_400_for_nonexistent_store
    test_list_stores_continuation_token_works
    test_list_stores_respects_page_size_parameter

test result: FAILED. 5 passed; 4 failed; 0 ignored; 0 measured; 6 filtered out; finished in 0.24s

--- test_section_5 ---

running 9 tests
test test_can_create_model_with_computed_relations ... FAILED
test test_can_create_model_with_direct_relations ... FAILED
test test_can_create_model_with_this_keyword ... FAILED
test test_can_create_model_with_wildcards ... FAILED
test test_duplicate_type_definitions_return_error ... FAILED
test test_invalid_model_syntax_returns_400 ... FAILED
test test_model_creation_returns_generated_model_id ... FAILED
test test_post_authorization_model_creates_model ... FAILED
test test_undefined_relation_references_return_error ... FAILED

failures:

---- test_can_create_model_with_computed_relations stdout ----

thread 'test_can_create_model_with_computed_relations' (1729991) panicked at crates/compatibility-tests/tests/test_section_5.rs:272:5:
Model with computed relations should be created, got: 404 Not Found
note: run with `RUST_BACKTRACE=1` environment variable to display a backtrace

---- test_can_create_model_with_direct_relations stdout ----

thread 'test_can_create_model_with_direct_relations' (1729997) panicked at crates/compatibility-tests/tests/test_section_5.rs:174:5:
Model with direct relations should be created, got: 404 Not Found

---- test_can_create_model_with_this_keyword stdout ----

thread 'test_can_create_model_with_this_keyword' (1729999) panicked at crates/compatibility-tests/tests/test_section_5.rs:325:5:
Model with 'this' keyword should be created, got: 404 Not Found

---- test_can_create_model_with_wildcards stdout ----

thread 'test_can_create_model_with_wildcards' (1730001) panicked at crates/compatibility-tests/tests/test_section_5.rs:388:5:
Model with wildcards should be created, got: 404 Not Found

---- test_duplicate_type_definitions_return_error stdout ----

thread 'test_duplicate_type_definitions_return_error' (1730003) panicked at crates/compatibility-tests/tests/test_section_5.rs:493:5:
assertion `left == right` failed: Duplicate type definitions should return 400, got: 404 Not Found
  left: 404
 right: 400

---- test_invalid_model_syntax_returns_400 stdout ----

thread 'test_invalid_model_syntax_returns_400' (1730005) panicked at crates/compatibility-tests/tests/test_section_5.rs:422:5:
assertion `left == right` failed: Invalid model should return 400, got: 404 Not Found
  left: 404
 right: 400

---- test_model_creation_returns_generated_model_id stdout ----
Error: error decoding response body

Caused by:
    EOF while parsing a value at line 1 column 0

---- test_post_authorization_model_creates_model stdout ----

thread 'test_post_authorization_model_creates_model' (1730009) panicked at crates/compatibility-tests/tests/test_section_5.rs:54:5:
Model creation should succeed, got: 404 Not Found

---- test_undefined_relation_references_return_error stdout ----

thread 'test_undefined_relation_references_return_error' (1730011) panicked at crates/compatibility-tests/tests/test_section_5.rs:545:5:
assertion `left == right` failed: Undefined relation reference should return 400, got: 404 Not Found
  left: 404
 right: 400


failures:
    test_can_create_model_with_computed_relations
    test_can_create_model_with_direct_relations
    test_can_create_model_with_this_keyword
    test_can_create_model_with_wildcards
    test_duplicate_type_definitions_return_error
    test_invalid_model_syntax_returns_400
    test_model_creation_returns_generated_model_id
    test_post_authorization_model_creates_model
    test_undefined_relation_references_return_error

test result: FAILED. 0 passed; 9 failed; 0 ignored; 0 measured; 6 filtered out; finished in 0.22s

--- test_section_6 ---

running 6 tests
test test_can_retrieve_latest_model ... FAILED
test test_get_authorization_model_retrieves_model ... FAILED
test test_get_nonexistent_model_returns_error ... ok
test test_list_authorization_models ... FAILED
test test_model_response_includes_schema_version ... FAILED
test test_model_response_includes_type_definitions ... FAILED

failures:

---- test_can_retrieve_latest_model stdout ----
Error: Failed to create authorization model: 404 Not Found

---- test_get_authorization_model_retrieves_model stdout ----
Error: Failed to create authorization model: 404 Not Found

---- test_list_authorization_models stdout ----
Error: Failed to create authorization model: 404 Not Found

---- test_model_response_includes_schema_version stdout ----
Error: Failed to create authorization model: 404 Not Found

---- test_model_response_includes_type_definitions stdout ----
Error: Failed to create authorization model: 404 Not Found


failures:
    test_can_retrieve_latest_model
    test_get_authorization_model_retrieves_model
    test_list_authorization_models
    test_model_response_includes_schema_version
    test_model_response_includes_type_definitions

test result: FAILED. 1 passed; 5 failed; 0 ignored; 0 measured; 6 filtered out; finished in 0.19s

--- test_section_7_tuple_write ---

running 10 tests
test test_can_delete_tuple ... FAILED
test test_conditional_writes ... ok
test test_write_invalid_format_returns_400 ... FAILED
test test_write_multiple_tuples ... FAILED
test test_write_nonexistent_relation_returns_error ... FAILED
test test_write_nonexistent_type_returns_error ... FAILED
test test_write_returns_empty_response ... FAILED
test test_write_single_tuple ... FAILED
test test_write_without_store_returns_error ... ok
test test_writes_are_idempotent ... FAILED

failures:

---- test_can_delete_tuple stdout ----
Error: Failed to create authorization model: 404 Not Found

---- test_write_invalid_format_returns_400 stdout ----
Error: Failed to create authorization model: 404 Not Found

---- test_write_multiple_tuples stdout ----
Error: Failed to create authorization model: 404 Not Found

---- test_write_nonexistent_relation_returns_error stdout ----
Error: Failed to create authorization model: 404 Not Found

---- test_write_nonexistent_type_returns_error stdout ----
Error: Failed to create authorization model: 404 Not Found

---- test_write_returns_empty_response stdout ----
Error: Failed to create authorization model: 404 Not Found

---- test_write_single_tuple stdout ----
Error: Failed to create authorization model: 404 Not Found

---- test_writes_are_idempotent stdout ----
Error: Failed to create authorization model: 404 Not Found


failures:
    test_can_delete_tuple
    test_write_invalid_format_returns_400
    test_write_multiple_tuples
    test_write_nonexistent_relation_returns_error
    test_write_nonexistent_type_returns_error
    test_write_returns_empty_response
    test_write_single_tuple
    test_writes_are_idempotent

test result: FAILED. 2 passed; 8 failed; 0 ignored; 0 measured; 6 filtered out; finished in 0.20s

--- test_section_8_tuple_read ---

running 9 tests
test test_read_continuation_token ... FAILED
test test_read_respects_page_size ... FAILED
test test_read_returns_empty_when_no_matches ... FAILED
test test_read_tuples_by_filter ... FAILED
test test_read_with_empty_filter ... FAILED
test test_read_with_multiple_filters ... FAILED
test test_read_with_object_filter ... FAILED
test test_read_with_relation_filter ... FAILED
test test_read_with_user_filter ... FAILED

failures:

---- test_read_continuation_token stdout ----
Error: Failed to create authorization model: 404 Not Found

---- test_read_respects_page_size stdout ----
Error: Failed to create authorization model: 404 Not Found

---- test_read_returns_empty_when_no_matches stdout ----
Error: Failed to create authorization model: 404 Not Found

---- test_read_tuples_by_filter stdout ----
Error: Failed to create authorization model: 404 Not Found

---- test_read_with_empty_filter stdout ----
Error: Failed to create authorization model: 404 Not Found

---- test_read_with_multiple_filters stdout ----
Error: Failed to create authorization model: 404 Not Found

---- test_read_with_object_filter stdout ----
Error: Failed to create authorization model: 404 Not Found

---- test_read_with_relation_filter stdout ----
Error: Failed to create authorization model: 404 Not Found

---- test_read_with_user_filter stdout ----
Error: Failed to create authorization model: 404 Not Found


failures:
    test_read_continuation_token
    test_read_respects_page_size
    test_read_returns_empty_when_no_matches
    test_read_tuples_by_filter
    test_read_with_empty_filter
    test_read_with_multiple_filters
    test_read_with_object_filter
    test_read_with_relation_filter
    test_read_with_user_filter

test result: FAILED. 0 passed; 9 failed; 0 ignored; 0 measured; 6 filtered out; finished in 0.19s

--- test_section_9_tuple_edge_cases ---

running 6 tests
test test_identifiers_at_size_limit ... FAILED
test test_identifiers_over_size_limit ... FAILED
test test_read_tuple_with_userset ... FAILED
test test_special_characters_in_identifiers ... FAILED
test test_unicode_in_identifiers ... FAILED
test test_write_tuple_with_wildcard ... FAILED

failures:

---- test_identifiers_at_size_limit stdout ----
Error: Failed to create authorization model: 404 Not Found

---- test_identifiers_over_size_limit stdout ----
Error: Failed to create authorization model: 404 Not Found

---- test_read_tuple_with_userset stdout ----
Error: Failed to create authorization model: 404 Not Found

---- test_special_characters_in_identifiers stdout ----
Error: Failed to create authorization model: 404 Not Found

---- test_unicode_in_identifiers stdout ----
Error: Failed to create authorization model: 404 Not Found

---- test_write_tuple_with_wildcard stdout ----
Error: Failed to create authorization model: 404 Not Found


failures:
    test_identifiers_at_size_limit
    test_identifiers_over_size_limit
    test_read_tuple_with_userset
    test_special_characters_in_identifiers
    test_unicode_in_identifiers
    test_write_tuple_with_wildcard

test result: FAILED. 0 passed; 6 failed; 0 ignored; 0 measured; 6 filtered out; finished in 0.19s

============================================================
TOTAL: 43 passed, 207 failed
============================================================
