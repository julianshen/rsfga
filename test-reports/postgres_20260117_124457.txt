============================================================
RSFGA Compatibility Test Report - postgres
URL: http://localhost:30081
Timestamp: 2026年 1月17日 星期六 12時44分57秒 CST
============================================================


--- test_section_1 ---

running 6 tests
test test_can_clean_up_test_stores ... FAILED
test test_can_connect_to_openfga_grpc_api ... FAILED
test test_can_connect_to_openfga_http_api ... FAILED
test test_can_create_store_via_api ... FAILED
test test_can_start_openfga_via_docker_compose ... FAILED
test test_environment_teardown_is_idempotent ... FAILED

failures:

---- test_can_clean_up_test_stores stdout ----

thread 'test_can_clean_up_test_stores' (2469955) panicked at crates/compatibility-tests/tests/test_section_1.rs:62:58:
CARGO_MANIFEST_DIR not set: NotPresent
note: run with `RUST_BACKTRACE=1` environment variable to display a backtrace

---- test_can_connect_to_openfga_grpc_api stdout ----

thread 'test_can_connect_to_openfga_grpc_api' (2469956) panicked at crates/compatibility-tests/tests/test_section_1.rs:62:58:
CARGO_MANIFEST_DIR not set: NotPresent

---- test_can_connect_to_openfga_http_api stdout ----

thread 'test_can_connect_to_openfga_http_api' (2469957) panicked at crates/compatibility-tests/tests/test_section_1.rs:62:58:
CARGO_MANIFEST_DIR not set: NotPresent

---- test_can_create_store_via_api stdout ----

thread 'test_can_create_store_via_api' (2469958) panicked at crates/compatibility-tests/tests/test_section_1.rs:62:58:
CARGO_MANIFEST_DIR not set: NotPresent

---- test_can_start_openfga_via_docker_compose stdout ----

thread 'test_can_start_openfga_via_docker_compose' (2469959) panicked at crates/compatibility-tests/tests/test_section_1.rs:62:58:
CARGO_MANIFEST_DIR not set: NotPresent

---- test_environment_teardown_is_idempotent stdout ----

thread 'test_environment_teardown_is_idempotent' (2469960) panicked at crates/compatibility-tests/tests/test_section_1.rs:62:58:
CARGO_MANIFEST_DIR not set: NotPresent


failures:
    test_can_clean_up_test_stores
    test_can_connect_to_openfga_grpc_api
    test_can_connect_to_openfga_http_api
    test_can_create_store_via_api
    test_can_start_openfga_via_docker_compose
    test_environment_teardown_is_idempotent

test result: FAILED. 0 passed; 6 failed; 0 ignored; 0 measured; 0 filtered out; finished in 0.00s

--- test_section_1 ---

running 6 tests
test test_can_clean_up_test_stores ... FAILED
test test_can_connect_to_openfga_grpc_api ... FAILED
test test_can_connect_to_openfga_http_api ... FAILED
test test_can_create_store_via_api ... FAILED
test test_can_start_openfga_via_docker_compose ... FAILED
test test_environment_teardown_is_idempotent ... FAILED

failures:

---- test_can_clean_up_test_stores stdout ----

thread 'test_can_clean_up_test_stores' (2469985) panicked at crates/compatibility-tests/tests/test_section_1.rs:62:58:
CARGO_MANIFEST_DIR not set: NotPresent
note: run with `RUST_BACKTRACE=1` environment variable to display a backtrace

---- test_can_connect_to_openfga_grpc_api stdout ----

thread 'test_can_connect_to_openfga_grpc_api' (2469986) panicked at crates/compatibility-tests/tests/test_section_1.rs:62:58:
CARGO_MANIFEST_DIR not set: NotPresent

---- test_can_connect_to_openfga_http_api stdout ----

thread 'test_can_connect_to_openfga_http_api' (2469987) panicked at crates/compatibility-tests/tests/test_section_1.rs:62:58:
CARGO_MANIFEST_DIR not set: NotPresent

---- test_can_create_store_via_api stdout ----

thread 'test_can_create_store_via_api' (2469988) panicked at crates/compatibility-tests/tests/test_section_1.rs:62:58:
CARGO_MANIFEST_DIR not set: NotPresent

---- test_can_start_openfga_via_docker_compose stdout ----

thread 'test_can_start_openfga_via_docker_compose' (2469989) panicked at crates/compatibility-tests/tests/test_section_1.rs:62:58:
CARGO_MANIFEST_DIR not set: NotPresent

---- test_environment_teardown_is_idempotent stdout ----

thread 'test_environment_teardown_is_idempotent' (2469990) panicked at crates/compatibility-tests/tests/test_section_1.rs:62:58:
CARGO_MANIFEST_DIR not set: NotPresent


failures:
    test_can_clean_up_test_stores
    test_can_connect_to_openfga_grpc_api
    test_can_connect_to_openfga_http_api
    test_can_create_store_via_api
    test_can_start_openfga_via_docker_compose
    test_environment_teardown_is_idempotent

test result: FAILED. 0 passed; 6 failed; 0 ignored; 0 measured; 0 filtered out; finished in 0.00s

--- test_section_10_check_basic ---

running 10 tests
test test_check_direct_relation ... ok
test test_check_follows_computed_exclusion ... ok
test test_check_follows_computed_intersection ... ok
test test_check_follows_computed_union ... ok
test test_check_resolves_this_keyword ... ok
test test_check_returns_false_when_tuple_does_not_exist ... ok
test test_check_returns_true_when_tuple_exists ... ok
test test_check_with_contextual_tuples ... ok
test test_check_with_invalid_format ... ok
test test_check_with_nonexistent_store ... ok

test result: ok. 10 passed; 0 failed; 0 ignored; 0 measured; 6 filtered out; finished in 0.33s

--- test_section_10_check_basic ---

running 10 tests
test test_check_direct_relation ... ok
test test_check_follows_computed_exclusion ... ok
test test_check_follows_computed_intersection ... ok
test test_check_follows_computed_union ... ok
test test_check_resolves_this_keyword ... ok
test test_check_returns_false_when_tuple_does_not_exist ... ok
test test_check_returns_true_when_tuple_exists ... ok
test test_check_with_contextual_tuples ... ok
test test_check_with_invalid_format ... ok
test test_check_with_nonexistent_store ... ok

test result: ok. 10 passed; 0 failed; 0 ignored; 0 measured; 6 filtered out; finished in 0.37s

--- test_section_11_check_complex ---

running 8 tests
test test_check_cycle_detection ... ok
test test_check_deeply_nested_relations ... ok
test test_check_exclusion_but_not ... ok
test test_check_intersection_all_required ... ok
test test_check_multi_hop_relations ... ok
test test_check_respects_model_version ... FAILED
test test_check_union_multiple_relations ... ok
test test_check_with_wildcards ... ok

failures:

---- test_check_respects_model_version stdout ----

thread 'test_check_respects_model_version' (2470146) panicked at crates/compatibility-tests/tests/test_section_11_check_complex.rs:813:5:
Check with old model version should fail for new relation type
note: run with `RUST_BACKTRACE=1` environment variable to display a backtrace


failures:
    test_check_respects_model_version

test result: FAILED. 7 passed; 1 failed; 0 ignored; 0 measured; 6 filtered out; finished in 0.35s

--- test_section_11_check_complex ---

running 8 tests
test test_check_cycle_detection ... ok
test test_check_deeply_nested_relations ... ok
test test_check_exclusion_but_not ... ok
test test_check_intersection_all_required ... ok
test test_check_multi_hop_relations ... ok
test test_check_respects_model_version ... FAILED
test test_check_union_multiple_relations ... ok
test test_check_with_wildcards ... ok

failures:

---- test_check_respects_model_version stdout ----

thread 'test_check_respects_model_version' (2470233) panicked at crates/compatibility-tests/tests/test_section_11_check_complex.rs:813:5:
Check with old model version should fail for new relation type
note: run with `RUST_BACKTRACE=1` environment variable to display a backtrace


failures:
    test_check_respects_model_version

test result: FAILED. 7 passed; 1 failed; 0 ignored; 0 measured; 6 filtered out; finished in 0.32s

--- test_section_12_batch_check ---

running 6 tests
test test_batch_check_deduplication ... ok
test test_batch_check_empty_array ... ok
test test_batch_check_large_batch ... ok
test test_batch_check_mixed_results ... ok
test test_batch_check_multiple_tuples ... ok
test test_batch_check_preserves_order ... ok

test result: ok. 6 passed; 0 failed; 0 ignored; 0 measured; 6 filtered out; finished in 0.30s

--- test_section_12_batch_check ---

running 6 tests
test test_batch_check_deduplication ... ok
test test_batch_check_empty_array ... ok
test test_batch_check_large_batch ... ok
test test_batch_check_mixed_results ... ok
test test_batch_check_multiple_tuples ... ok
test test_batch_check_preserves_order ... ok

test result: ok. 6 passed; 0 failed; 0 ignored; 0 measured; 6 filtered out; finished in 0.30s

--- test_section_13_check_performance ---

running 5 tests
test test_check_consistency_after_delete ... ok
test test_check_consistency_after_write ... ok
test test_check_latency_computed_union ... ok
test test_check_latency_deep_nested ... ok
test test_check_latency_direct_relation ... ok

test result: ok. 5 passed; 0 failed; 0 ignored; 0 measured; 6 filtered out; finished in 0.30s

--- test_section_13_check_performance ---

running 5 tests
test test_check_consistency_after_delete ... ok
test test_check_consistency_after_write ... ok
test test_check_latency_computed_union ... ok
test test_check_latency_deep_nested ... ok
test test_check_latency_direct_relation ... ok

test result: ok. 5 passed; 0 failed; 0 ignored; 0 measured; 6 filtered out; finished in 0.29s

--- test_section_14_expand_api ---

running 9 tests
test test_expand_includes_difference_branches ... FAILED
test test_expand_includes_intersection_branches ... FAILED
test test_expand_includes_union_branches ... FAILED
test test_expand_returns_relation_tree ... ok
test test_expand_shows_computed_relations ... FAILED
test test_expand_shows_direct_relations_as_leaf ... ok
test test_expand_tree_is_deterministic ... ok
test test_expand_with_invalid_store ... ok
test test_expand_with_nonexistent_object ... ok

failures:

---- test_expand_includes_difference_branches stdout ----

thread 'test_expand_includes_difference_branches' (2470419) panicked at crates/compatibility-tests/tests/test_section_14_expand_api.rs:481:10:
Root should have 'difference' node for difference relation
note: run with `RUST_BACKTRACE=1` environment variable to display a backtrace

---- test_expand_includes_intersection_branches stdout ----

thread 'test_expand_includes_intersection_branches' (2470424) panicked at crates/compatibility-tests/tests/test_section_14_expand_api.rs:371:5:
Root should have 'intersection' node for intersection relation

---- test_expand_includes_union_branches stdout ----

thread 'test_expand_includes_union_branches' (2470426) panicked at crates/compatibility-tests/tests/test_section_14_expand_api.rs:262:5:
Root should have 'union' node for union relation

---- test_expand_shows_computed_relations stdout ----

thread 'test_expand_shows_computed_relations' (2470431) panicked at crates/compatibility-tests/tests/test_section_14_expand_api.rs:169:10:
Root should have leaf node with 'computed' field for computed relation


failures:
    test_expand_includes_difference_branches
    test_expand_includes_intersection_branches
    test_expand_includes_union_branches
    test_expand_shows_computed_relations

test result: FAILED. 5 passed; 4 failed; 0 ignored; 0 measured; 6 filtered out; finished in 0.28s

--- test_section_14_expand_api ---

running 9 tests
test test_expand_includes_difference_branches ... FAILED
test test_expand_includes_intersection_branches ... FAILED
test test_expand_includes_union_branches ... FAILED
test test_expand_returns_relation_tree ... ok
test test_expand_shows_computed_relations ... FAILED
test test_expand_shows_direct_relations_as_leaf ... ok
test test_expand_tree_is_deterministic ... ok
test test_expand_with_invalid_store ... ok
test test_expand_with_nonexistent_object ... ok

failures:

---- test_expand_includes_difference_branches stdout ----

thread 'test_expand_includes_difference_branches' (2470465) panicked at crates/compatibility-tests/tests/test_section_14_expand_api.rs:481:10:
Root should have 'difference' node for difference relation
note: run with `RUST_BACKTRACE=1` environment variable to display a backtrace

---- test_expand_includes_intersection_branches stdout ----

thread 'test_expand_includes_intersection_branches' (2470516) panicked at crates/compatibility-tests/tests/test_section_14_expand_api.rs:371:5:
Root should have 'intersection' node for intersection relation

---- test_expand_includes_union_branches stdout ----

thread 'test_expand_includes_union_branches' (2470518) panicked at crates/compatibility-tests/tests/test_section_14_expand_api.rs:262:5:
Root should have 'union' node for union relation

---- test_expand_shows_computed_relations stdout ----

thread 'test_expand_shows_computed_relations' (2470522) panicked at crates/compatibility-tests/tests/test_section_14_expand_api.rs:169:10:
Root should have leaf node with 'computed' field for computed relation


failures:
    test_expand_includes_difference_branches
    test_expand_includes_intersection_branches
    test_expand_includes_union_branches
    test_expand_shows_computed_relations

test result: FAILED. 5 passed; 4 failed; 0 ignored; 0 measured; 6 filtered out; finished in 0.30s

--- test_section_15_listobjects_api ---

running 7 tests
test test_listobjects_returns_accessible_objects ... FAILED
test test_listobjects_with_computed_relations ... FAILED
test test_listobjects_with_contextual_tuples ... FAILED
test test_listobjects_with_direct_relations ... FAILED
test test_listobjects_with_no_accessible_objects ... ok
test test_listobjects_with_type_filter ... FAILED
test test_listobjects_with_wildcards ... FAILED

failures:

---- test_listobjects_returns_accessible_objects stdout ----

thread 'test_listobjects_returns_accessible_objects' (2470556) panicked at crates/compatibility-tests/tests/test_section_15_listobjects_api.rs:72:5:
assertion `left == right` failed: Alice should have access to exactly doc1 and doc2
  left: {}
 right: {"document:doc1", "document:doc2"}
note: run with `RUST_BACKTRACE=1` environment variable to display a backtrace

---- test_listobjects_with_computed_relations stdout ----

thread 'test_listobjects_with_computed_relations' (2470562) panicked at crates/compatibility-tests/tests/test_section_15_listobjects_api.rs:244:5:
assertion `left == right` failed: Eve should have access to exactly doc1 and doc2 via union
  left: {}
 right: {"document:doc2", "document:doc1"}

---- test_listobjects_with_contextual_tuples stdout ----

thread 'test_listobjects_with_contextual_tuples' (2470565) panicked at crates/compatibility-tests/tests/test_section_15_listobjects_api.rs:477:5:
assertion `left == right` failed: Should return exactly the objects from contextual tuples
  left: {}
 right: {"document:doc1", "document:doc2"}

---- test_listobjects_with_direct_relations stdout ----

thread 'test_listobjects_with_direct_relations' (2470567) panicked at crates/compatibility-tests/tests/test_section_15_listobjects_api.rs:134:5:
assertion `left == right` failed: Charlie should have access to exactly doc1 and doc2 as editor
  left: {}
 right: {"document:doc2", "document:doc1"}

---- test_listobjects_with_type_filter stdout ----

thread 'test_listobjects_with_type_filter' (2470571) panicked at crates/compatibility-tests/tests/test_section_15_listobjects_api.rs:357:5:
assertion `left == right` failed: Should return exactly doc1 and doc2 (filtered by type)
  left: {}
 right: {"document:doc1", "document:doc2"}

---- test_listobjects_with_wildcards stdout ----

thread 'test_listobjects_with_wildcards' (2470574) panicked at crates/compatibility-tests/tests/test_section_15_listobjects_api.rs:573:5:
assertion `left == right` failed: User 'judy' should have access to exactly 2 wildcard-granted objects (public1 and public2)
  left: {}
 right: {"document:public1", "document:public2"}


failures:
    test_listobjects_returns_accessible_objects
    test_listobjects_with_computed_relations
    test_listobjects_with_contextual_tuples
    test_listobjects_with_direct_relations
    test_listobjects_with_type_filter
    test_listobjects_with_wildcards

test result: FAILED. 1 passed; 6 failed; 0 ignored; 0 measured; 6 filtered out; finished in 0.29s

--- test_section_15_listobjects_api ---

running 7 tests
test test_listobjects_returns_accessible_objects ... FAILED
test test_listobjects_with_computed_relations ... FAILED
test test_listobjects_with_contextual_tuples ... FAILED
test test_listobjects_with_direct_relations ... FAILED
test test_listobjects_with_no_accessible_objects ... ok
test test_listobjects_with_type_filter ... FAILED
test test_listobjects_with_wildcards ... FAILED

failures:

---- test_listobjects_returns_accessible_objects stdout ----

thread 'test_listobjects_returns_accessible_objects' (2470604) panicked at crates/compatibility-tests/tests/test_section_15_listobjects_api.rs:72:5:
assertion `left == right` failed: Alice should have access to exactly doc1 and doc2
  left: {}
 right: {"document:doc1", "document:doc2"}
note: run with `RUST_BACKTRACE=1` environment variable to display a backtrace

---- test_listobjects_with_computed_relations stdout ----

thread 'test_listobjects_with_computed_relations' (2470613) panicked at crates/compatibility-tests/tests/test_section_15_listobjects_api.rs:244:5:
assertion `left == right` failed: Eve should have access to exactly doc1 and doc2 via union
  left: {}
 right: {"document:doc2", "document:doc1"}

---- test_listobjects_with_contextual_tuples stdout ----

thread 'test_listobjects_with_contextual_tuples' (2470615) panicked at crates/compatibility-tests/tests/test_section_15_listobjects_api.rs:477:5:
assertion `left == right` failed: Should return exactly the objects from contextual tuples
  left: {}
 right: {"document:doc2", "document:doc1"}

---- test_listobjects_with_direct_relations stdout ----

thread 'test_listobjects_with_direct_relations' (2470617) panicked at crates/compatibility-tests/tests/test_section_15_listobjects_api.rs:134:5:
assertion `left == right` failed: Charlie should have access to exactly doc1 and doc2 as editor
  left: {}
 right: {"document:doc2", "document:doc1"}

---- test_listobjects_with_type_filter stdout ----

thread 'test_listobjects_with_type_filter' (2470621) panicked at crates/compatibility-tests/tests/test_section_15_listobjects_api.rs:357:5:
assertion `left == right` failed: Should return exactly doc1 and doc2 (filtered by type)
  left: {}
 right: {"document:doc2", "document:doc1"}

---- test_listobjects_with_wildcards stdout ----

thread 'test_listobjects_with_wildcards' (2470623) panicked at crates/compatibility-tests/tests/test_section_15_listobjects_api.rs:573:5:
assertion `left == right` failed: User 'judy' should have access to exactly 2 wildcard-granted objects (public1 and public2)
  left: {}
 right: {"document:public1", "document:public2"}


failures:
    test_listobjects_returns_accessible_objects
    test_listobjects_with_computed_relations
    test_listobjects_with_contextual_tuples
    test_listobjects_with_direct_relations
    test_listobjects_with_type_filter
    test_listobjects_with_wildcards

test result: FAILED. 1 passed; 6 failed; 0 ignored; 0 measured; 6 filtered out; finished in 0.32s

--- test_section_16_edge_cases ---

running 4 tests
test test_complex_nested_computed_relations ... FAILED
test test_expand_with_circular_relations ... ok
test test_expand_with_deep_relation_tree ... ok
test test_listobjects_with_large_result_set ... FAILED

failures:

---- test_complex_nested_computed_relations stdout ----

thread 'test_complex_nested_computed_relations' (2470650) panicked at crates/compatibility-tests/tests/test_section_16_edge_cases.rs:429:5:
Root should have union node for computed relation
note: run with `RUST_BACKTRACE=1` environment variable to display a backtrace

---- test_listobjects_with_large_result_set stdout ----

thread 'test_listobjects_with_large_result_set' (2470659) panicked at crates/compatibility-tests/tests/test_section_16_edge_cases.rs:314:5:
assertion `left == right` failed: Should return all 1000 documents
  left: 0
 right: 1000


failures:
    test_complex_nested_computed_relations
    test_listobjects_with_large_result_set

test result: FAILED. 2 passed; 2 failed; 0 ignored; 0 measured; 6 filtered out; finished in 0.34s

--- test_section_16_edge_cases ---

running 4 tests
test test_complex_nested_computed_relations ... FAILED
test test_expand_with_circular_relations ... ok
test test_expand_with_deep_relation_tree ... ok
test test_listobjects_with_large_result_set ... FAILED

failures:

---- test_complex_nested_computed_relations stdout ----

thread 'test_complex_nested_computed_relations' (2470690) panicked at crates/compatibility-tests/tests/test_section_16_edge_cases.rs:429:5:
Root should have union node for computed relation
note: run with `RUST_BACKTRACE=1` environment variable to display a backtrace

---- test_listobjects_with_large_result_set stdout ----

thread 'test_listobjects_with_large_result_set' (2470700) panicked at crates/compatibility-tests/tests/test_section_16_edge_cases.rs:314:5:
assertion `left == right` failed: Should return all 1000 documents
  left: 0
 right: 1000


failures:
    test_complex_nested_computed_relations
    test_listobjects_with_large_result_set

test result: FAILED. 2 passed; 2 failed; 0 ignored; 0 measured; 6 filtered out; finished in 0.33s

--- test_section_17_error_format ---

running 6 tests
test test_400_bad_request_format ... FAILED
test test_404_not_found_format ... FAILED
test test_500_error_format_documentation ... ok
test test_error_codes_match_openfga_enum ... FAILED
test test_error_response_consistent_across_endpoints ... FAILED
test test_validation_errors_include_field_details ... FAILED

failures:

---- test_400_bad_request_format stdout ----

thread 'test_400_bad_request_format' (2470726) panicked at crates/compatibility-tests/tests/test_section_17_error_format.rs:36:5:
assertion `left == right` failed: Invalid store ID format should return 400
  left: 404
 right: 400
note: run with `RUST_BACKTRACE=1` environment variable to display a backtrace

---- test_404_not_found_format stdout ----

thread 'test_404_not_found_format' (2470731) panicked at crates/compatibility-tests/tests/test_section_17_error_format.rs:108:5:
assertion `left == right` failed: Non-existent store should return store_id_not_found code
  left: "not_found"
 right: "store_id_not_found"

---- test_error_codes_match_openfga_enum stdout ----

thread 'test_error_codes_match_openfga_enum' (2470734) panicked at crates/compatibility-tests/tests/test_section_17_error_format.rs:279:5:
assertion `left == right` failed
  left: "not_found"
 right: "validation_error"

---- test_error_response_consistent_across_endpoints stdout ----
Error: error decoding response body

Caused by:
    missing field `code` at line 1 column 2

---- test_validation_errors_include_field_details stdout ----

thread 'test_validation_errors_include_field_details' (2470738) panicked at crates/compatibility-tests/tests/test_section_17_error_format.rs:353:5:
Error should mention missing object field: Failed to deserialize the JSON body into the target type: tuple_key: missing field `relation` at line 1 column 33


failures:
    test_400_bad_request_format
    test_404_not_found_format
    test_error_codes_match_openfga_enum
    test_error_response_consistent_across_endpoints
    test_validation_errors_include_field_details

test result: FAILED. 1 passed; 5 failed; 0 ignored; 0 measured; 6 filtered out; finished in 0.23s

--- test_section_17_error_format ---

running 6 tests
test test_400_bad_request_format ... FAILED
test test_404_not_found_format ... FAILED
test test_500_error_format_documentation ... ok
test test_error_codes_match_openfga_enum ... FAILED
test test_error_response_consistent_across_endpoints ... FAILED
test test_validation_errors_include_field_details ... FAILED

failures:

---- test_400_bad_request_format stdout ----

thread 'test_400_bad_request_format' (2470764) panicked at crates/compatibility-tests/tests/test_section_17_error_format.rs:36:5:
assertion `left == right` failed: Invalid store ID format should return 400
  left: 404
 right: 400
note: run with `RUST_BACKTRACE=1` environment variable to display a backtrace

---- test_404_not_found_format stdout ----

thread 'test_404_not_found_format' (2470770) panicked at crates/compatibility-tests/tests/test_section_17_error_format.rs:108:5:
assertion `left == right` failed: Non-existent store should return store_id_not_found code
  left: "not_found"
 right: "store_id_not_found"

---- test_error_codes_match_openfga_enum stdout ----

thread 'test_error_codes_match_openfga_enum' (2470773) panicked at crates/compatibility-tests/tests/test_section_17_error_format.rs:279:5:
assertion `left == right` failed
  left: "not_found"
 right: "validation_error"

---- test_error_response_consistent_across_endpoints stdout ----
Error: error decoding response body

Caused by:
    missing field `code` at line 1 column 2

---- test_validation_errors_include_field_details stdout ----

thread 'test_validation_errors_include_field_details' (2470777) panicked at crates/compatibility-tests/tests/test_section_17_error_format.rs:353:5:
Error should mention missing object field: Failed to deserialize the JSON body into the target type: tuple_key: missing field `relation` at line 1 column 33


failures:
    test_400_bad_request_format
    test_404_not_found_format
    test_error_codes_match_openfga_enum
    test_error_response_consistent_across_endpoints
    test_validation_errors_include_field_details

test result: FAILED. 1 passed; 5 failed; 0 ignored; 0 measured; 6 filtered out; finished in 0.23s

--- test_section_18_rate_limiting ---

running 3 tests
test test_api_rate_limiting_behavior ... ok
test test_rate_limit_headers ... ok
test test_retry_after_header_format ... ok

test result: ok. 3 passed; 0 failed; 0 ignored; 0 measured; 6 filtered out; finished in 0.26s

--- test_section_18_rate_limiting ---

running 3 tests
test test_api_rate_limiting_behavior ... ok
test test_rate_limit_headers ... ok
test test_retry_after_header_format ... ok

test result: ok. 3 passed; 0 failed; 0 ignored; 0 measured; 6 filtered out; finished in 0.25s

--- test_section_19_consistency ---

running 4 tests
test test_check_during_model_update ... ok
test test_check_with_stale_model_id ... ok
test test_concurrent_writes_to_same_tuple ... ok
test test_read_after_write_consistency ... ok

test result: ok. 4 passed; 0 failed; 0 ignored; 0 measured; 6 filtered out; finished in 0.34s

--- test_section_19_consistency ---

running 4 tests
test test_check_during_model_update ... ok
test test_check_with_stale_model_id ... ok
test test_concurrent_writes_to_same_tuple ... ok
test test_read_after_write_consistency ... ok

test result: ok. 4 passed; 0 failed; 0 ignored; 0 measured; 6 filtered out; finished in 0.35s

--- test_section_2 ---

running 9 tests
test test_can_generate_authorization_models_with_computed_relations ... ok
test test_can_generate_authorization_models_with_direct_relations ... ok
test test_can_generate_authorization_models_with_intersection_relations ... ok
test test_can_generate_authorization_models_with_union_relations ... ok
test test_can_generate_models_with_deeply_nested_relations ... ok
test test_can_generate_valid_object_identifiers ... ok
test test_can_generate_valid_relation_names ... ok
test test_can_generate_valid_tuples ... ok
test test_can_generate_valid_user_identifiers ... ok

test result: ok. 9 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out; finished in 0.00s

--- test_section_2 ---

running 9 tests
test test_can_generate_authorization_models_with_computed_relations ... ok
test test_can_generate_authorization_models_with_direct_relations ... ok
test test_can_generate_authorization_models_with_intersection_relations ... ok
test test_can_generate_authorization_models_with_union_relations ... ok
test test_can_generate_models_with_deeply_nested_relations ... ok
test test_can_generate_valid_object_identifiers ... ok
test test_can_generate_valid_relation_names ... ok
test test_can_generate_valid_tuples ... ok
test test_can_generate_valid_user_identifiers ... ok

test result: ok. 9 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out; finished in 0.00s

--- test_section_20_limits ---

running 6 tests
test test_maximum_authorization_model_size ... FAILED
test test_maximum_checks_in_batch ... ok
test test_maximum_relation_depth ... FAILED
test test_maximum_tuple_size ... FAILED
test test_maximum_tuples_in_single_write ... FAILED
test test_request_timeout_behavior ... ok

failures:

---- test_maximum_authorization_model_size stdout ----

thread 'test_maximum_authorization_model_size' (2471097) panicked at crates/compatibility-tests/tests/test_section_20_limits.rs:409:5:
assertion `left == right` failed
  left: "validation_error"
 right: "type_definitions_too_few_items"
note: run with `RUST_BACKTRACE=1` environment variable to display a backtrace

---- test_maximum_relation_depth stdout ----

thread 'test_maximum_relation_depth' (2471104) panicked at crates/compatibility-tests/tests/test_section_20_limits.rs:508:5:
assertion `left == right` failed: Alice should be viewer at level 24 via hierarchy
  left: Some(Bool(false))
 right: Some(Bool(true))

---- test_maximum_tuple_size stdout ----

thread 'test_maximum_tuple_size' (2471106) panicked at crates/compatibility-tests/tests/test_section_20_limits.rs:98:5:
assertion `left == right` failed: Object exceeding 256 chars should be rejected
  left: 200
 right: 400

---- test_maximum_tuples_in_single_write stdout ----

thread 'test_maximum_tuples_in_single_write' (2471108) panicked at crates/compatibility-tests/tests/test_section_20_limits.rs:197:5:
assertion `left == right` failed: Writing 101 tuples should fail
  left: 200
 right: 400


failures:
    test_maximum_authorization_model_size
    test_maximum_relation_depth
    test_maximum_tuple_size
    test_maximum_tuples_in_single_write

test result: FAILED. 2 passed; 4 failed; 0 ignored; 0 measured; 6 filtered out; finished in 0.31s

--- test_section_20_limits ---

running 6 tests
test test_maximum_authorization_model_size ... FAILED
test test_maximum_checks_in_batch ... ok
test test_maximum_relation_depth ... FAILED
test test_maximum_tuple_size ... FAILED
test test_maximum_tuples_in_single_write ... FAILED
test test_request_timeout_behavior ... ok

failures:

---- test_maximum_authorization_model_size stdout ----

thread 'test_maximum_authorization_model_size' (2471138) panicked at crates/compatibility-tests/tests/test_section_20_limits.rs:409:5:
assertion `left == right` failed
  left: "validation_error"
 right: "type_definitions_too_few_items"
note: run with `RUST_BACKTRACE=1` environment variable to display a backtrace

---- test_maximum_relation_depth stdout ----

thread 'test_maximum_relation_depth' (2471151) panicked at crates/compatibility-tests/tests/test_section_20_limits.rs:508:5:
assertion `left == right` failed: Alice should be viewer at level 24 via hierarchy
  left: Some(Bool(false))
 right: Some(Bool(true))

---- test_maximum_tuple_size stdout ----

thread 'test_maximum_tuple_size' (2471156) panicked at crates/compatibility-tests/tests/test_section_20_limits.rs:98:5:
assertion `left == right` failed: Object exceeding 256 chars should be rejected
  left: 200
 right: 400

---- test_maximum_tuples_in_single_write stdout ----

thread 'test_maximum_tuples_in_single_write' (2471158) panicked at crates/compatibility-tests/tests/test_section_20_limits.rs:197:5:
assertion `left == right` failed: Writing 101 tuples should fail
  left: 200
 right: 400


failures:
    test_maximum_authorization_model_size
    test_maximum_relation_depth
    test_maximum_tuple_size
    test_maximum_tuples_in_single_write

test result: FAILED. 2 passed; 4 failed; 0 ignored; 0 measured; 6 filtered out; finished in 0.31s

--- test_section_21_grpc_setup ---

running 6 tests
test test_can_call_authorization_model_service_methods ... FAILED
test test_can_call_check_service_methods ... FAILED
test test_can_call_store_service_methods ... FAILED
test test_can_call_tuple_service_methods ... FAILED
test test_can_connect_to_openfga_grpc_service ... FAILED
test test_grpc_reflection_works ... FAILED

failures:

---- test_can_call_authorization_model_service_methods stdout ----
Error: grpcurl failed: Error invoking method "openfga.v1.OpenFGAService/CreateStore": failed to query for service descriptor "openfga.v1.OpenFGAService": server does not support the reflection API
 

---- test_can_call_check_service_methods stdout ----
Error: grpcurl failed: Error invoking method "openfga.v1.OpenFGAService/CreateStore": failed to query for service descriptor "openfga.v1.OpenFGAService": server does not support the reflection API
 

---- test_can_call_store_service_methods stdout ----
Error: grpcurl failed: Error invoking method "openfga.v1.OpenFGAService/CreateStore": failed to query for service descriptor "openfga.v1.OpenFGAService": server does not support the reflection API
 

---- test_can_call_tuple_service_methods stdout ----
Error: grpcurl failed: Error invoking method "openfga.v1.OpenFGAService/CreateStore": failed to query for service descriptor "openfga.v1.OpenFGAService": server does not support the reflection API
 

---- test_can_connect_to_openfga_grpc_service stdout ----
Error: grpcurl list failed: Failed to list services: server does not support the reflection API


---- test_grpc_reflection_works stdout ----
Error: grpcurl describe failed: Failed to resolve symbol "openfga.v1.OpenFGAService": server does not support the reflection API



failures:
    test_can_call_authorization_model_service_methods
    test_can_call_check_service_methods
    test_can_call_store_service_methods
    test_can_call_tuple_service_methods
    test_can_connect_to_openfga_grpc_service
    test_grpc_reflection_works

test result: FAILED. 0 passed; 6 failed; 0 ignored; 0 measured; 6 filtered out; finished in 0.16s

--- test_section_21_grpc_setup ---

running 6 tests
test test_can_call_authorization_model_service_methods ... FAILED
test test_can_call_check_service_methods ... FAILED
test test_can_call_store_service_methods ... FAILED
test test_can_call_tuple_service_methods ... FAILED
test test_can_connect_to_openfga_grpc_service ... FAILED
test test_grpc_reflection_works ... FAILED

failures:

---- test_can_call_authorization_model_service_methods stdout ----
Error: grpcurl failed: Error invoking method "openfga.v1.OpenFGAService/CreateStore": failed to query for service descriptor "openfga.v1.OpenFGAService": server does not support the reflection API
 

---- test_can_call_check_service_methods stdout ----
Error: grpcurl failed: Error invoking method "openfga.v1.OpenFGAService/CreateStore": failed to query for service descriptor "openfga.v1.OpenFGAService": server does not support the reflection API
 

---- test_can_call_store_service_methods stdout ----
Error: grpcurl failed: Error invoking method "openfga.v1.OpenFGAService/CreateStore": failed to query for service descriptor "openfga.v1.OpenFGAService": server does not support the reflection API
 

---- test_can_call_tuple_service_methods stdout ----
Error: grpcurl failed: Error invoking method "openfga.v1.OpenFGAService/CreateStore": failed to query for service descriptor "openfga.v1.OpenFGAService": server does not support the reflection API
 

---- test_can_connect_to_openfga_grpc_service stdout ----
Error: grpcurl list failed: Failed to list services: server does not support the reflection API


---- test_grpc_reflection_works stdout ----
Error: grpcurl describe failed: Failed to resolve symbol "openfga.v1.OpenFGAService": server does not support the reflection API



failures:
    test_can_call_authorization_model_service_methods
    test_can_call_check_service_methods
    test_can_call_store_service_methods
    test_can_call_tuple_service_methods
    test_can_connect_to_openfga_grpc_service
    test_grpc_reflection_works

test result: FAILED. 0 passed; 6 failed; 0 ignored; 0 measured; 6 filtered out; finished in 0.07s

--- test_section_22_grpc_parity ---

running 9 tests
test test_grpc_batch_check_matches_rest ... FAILED
test test_grpc_check_matches_rest ... FAILED
test test_grpc_expand_matches_rest ... FAILED
test test_grpc_listobjects_matches_rest ... FAILED
test test_grpc_read_matches_rest ... FAILED
test test_grpc_store_create_matches_rest ... FAILED
test test_grpc_store_delete_matches_rest ... FAILED
test test_grpc_store_get_matches_rest ... FAILED
test test_grpc_write_matches_rest ... FAILED

failures:

---- test_grpc_batch_check_matches_rest stdout ----
Error: grpcurl failed: Error invoking method "openfga.v1.OpenFGAService/BatchCheck": failed to query for service descriptor "openfga.v1.OpenFGAService": server does not support the reflection API
 

---- test_grpc_check_matches_rest stdout ----
Error: grpcurl failed: Error invoking method "openfga.v1.OpenFGAService/Check": failed to query for service descriptor "openfga.v1.OpenFGAService": server does not support the reflection API
 

---- test_grpc_expand_matches_rest stdout ----
Error: grpcurl failed: Error invoking method "openfga.v1.OpenFGAService/Expand": failed to query for service descriptor "openfga.v1.OpenFGAService": server does not support the reflection API
 

---- test_grpc_listobjects_matches_rest stdout ----
Error: grpcurl failed: Error invoking method "openfga.v1.OpenFGAService/ListObjects": failed to query for service descriptor "openfga.v1.OpenFGAService": server does not support the reflection API
 

---- test_grpc_read_matches_rest stdout ----
Error: grpcurl failed: Error invoking method "openfga.v1.OpenFGAService/Read": failed to query for service descriptor "openfga.v1.OpenFGAService": server does not support the reflection API
 

---- test_grpc_store_create_matches_rest stdout ----
Error: grpcurl failed: Error invoking method "openfga.v1.OpenFGAService/CreateStore": failed to query for service descriptor "openfga.v1.OpenFGAService": server does not support the reflection API
 

---- test_grpc_store_delete_matches_rest stdout ----
Error: grpcurl failed: Error invoking method "openfga.v1.OpenFGAService/CreateStore": failed to query for service descriptor "openfga.v1.OpenFGAService": server does not support the reflection API
 

---- test_grpc_store_get_matches_rest stdout ----
Error: grpcurl failed: Error invoking method "openfga.v1.OpenFGAService/GetStore": failed to query for service descriptor "openfga.v1.OpenFGAService": server does not support the reflection API
 

---- test_grpc_write_matches_rest stdout ----
Error: grpcurl failed: Error invoking method "openfga.v1.OpenFGAService/Write": failed to query for service descriptor "openfga.v1.OpenFGAService": server does not support the reflection API
 


failures:
    test_grpc_batch_check_matches_rest
    test_grpc_check_matches_rest
    test_grpc_expand_matches_rest
    test_grpc_listobjects_matches_rest
    test_grpc_read_matches_rest
    test_grpc_store_create_matches_rest
    test_grpc_store_delete_matches_rest
    test_grpc_store_get_matches_rest
    test_grpc_write_matches_rest

test result: FAILED. 0 passed; 9 failed; 0 ignored; 0 measured; 6 filtered out; finished in 0.35s

--- test_section_22_grpc_parity ---

running 9 tests
test test_grpc_batch_check_matches_rest ... FAILED
test test_grpc_check_matches_rest ... FAILED
test test_grpc_expand_matches_rest ... FAILED
test test_grpc_listobjects_matches_rest ... FAILED
test test_grpc_read_matches_rest ... FAILED
test test_grpc_store_create_matches_rest ... FAILED
test test_grpc_store_delete_matches_rest ... FAILED
test test_grpc_store_get_matches_rest ... FAILED
test test_grpc_write_matches_rest ... FAILED

failures:

---- test_grpc_batch_check_matches_rest stdout ----
Error: grpcurl failed: Error invoking method "openfga.v1.OpenFGAService/BatchCheck": failed to query for service descriptor "openfga.v1.OpenFGAService": server does not support the reflection API
 

---- test_grpc_check_matches_rest stdout ----
Error: grpcurl failed: Error invoking method "openfga.v1.OpenFGAService/Check": failed to query for service descriptor "openfga.v1.OpenFGAService": server does not support the reflection API
 

---- test_grpc_expand_matches_rest stdout ----
Error: grpcurl failed: Error invoking method "openfga.v1.OpenFGAService/Expand": failed to query for service descriptor "openfga.v1.OpenFGAService": server does not support the reflection API
 

---- test_grpc_listobjects_matches_rest stdout ----
Error: grpcurl failed: Error invoking method "openfga.v1.OpenFGAService/ListObjects": failed to query for service descriptor "openfga.v1.OpenFGAService": server does not support the reflection API
 

---- test_grpc_read_matches_rest stdout ----
Error: grpcurl failed: Error invoking method "openfga.v1.OpenFGAService/Read": failed to query for service descriptor "openfga.v1.OpenFGAService": server does not support the reflection API
 

---- test_grpc_store_create_matches_rest stdout ----
Error: grpcurl failed: Error invoking method "openfga.v1.OpenFGAService/CreateStore": failed to query for service descriptor "openfga.v1.OpenFGAService": server does not support the reflection API
 

---- test_grpc_store_delete_matches_rest stdout ----
Error: grpcurl failed: Error invoking method "openfga.v1.OpenFGAService/CreateStore": failed to query for service descriptor "openfga.v1.OpenFGAService": server does not support the reflection API
 

---- test_grpc_store_get_matches_rest stdout ----
Error: grpcurl failed: Error invoking method "openfga.v1.OpenFGAService/GetStore": failed to query for service descriptor "openfga.v1.OpenFGAService": server does not support the reflection API
 

---- test_grpc_write_matches_rest stdout ----
Error: grpcurl failed: Error invoking method "openfga.v1.OpenFGAService/Write": failed to query for service descriptor "openfga.v1.OpenFGAService": server does not support the reflection API
 


failures:
    test_grpc_batch_check_matches_rest
    test_grpc_check_matches_rest
    test_grpc_expand_matches_rest
    test_grpc_listobjects_matches_rest
    test_grpc_read_matches_rest
    test_grpc_store_create_matches_rest
    test_grpc_store_delete_matches_rest
    test_grpc_store_get_matches_rest
    test_grpc_write_matches_rest

test result: FAILED. 0 passed; 9 failed; 0 ignored; 0 measured; 6 filtered out; finished in 0.38s

--- test_section_23_grpc_features ---

running 4 tests
test test_grpc_error_codes_match_http ... FAILED
test test_grpc_error_details_format ... FAILED
test test_grpc_metadata_headers ... FAILED
test test_grpc_streaming_not_supported ... FAILED

failures:

---- test_grpc_error_codes_match_http stdout ----

thread 'test_grpc_error_codes_match_http' (2471698) panicked at crates/compatibility-tests/tests/test_section_23_grpc_features.rs:236:5:
gRPC error should be InvalidArgument: Error invoking method "openfga.v1.OpenFGAService/GetStore": failed to query for service descriptor "openfga.v1.OpenFGAService": server does not support the reflection API

note: run with `RUST_BACKTRACE=1` environment variable to display a backtrace

---- test_grpc_error_details_format stdout ----

thread 'test_grpc_error_details_format' (2471723) panicked at crates/compatibility-tests/tests/test_section_23_grpc_features.rs:333:5:
Error should contain error code: Error invoking method "openfga.v1.OpenFGAService/WriteAuthorizationModel": failed to query for service descriptor "openfga.v1.OpenFGAService": server does not support the reflection API


---- test_grpc_metadata_headers stdout ----

thread 'test_grpc_metadata_headers' (2471734) panicked at crates/compatibility-tests/tests/test_section_23_grpc_features.rs:170:5:
Request with custom headers should succeed: Error invoking method "openfga.v1.OpenFGAService/CreateStore": failed to query for service descriptor "openfga.v1.OpenFGAService": server does not support the reflection API


---- test_grpc_streaming_not_supported stdout ----
Error: grpcurl describe failed: Failed to resolve symbol "openfga.v1.OpenFGAService": server does not support the reflection API



failures:
    test_grpc_error_codes_match_http
    test_grpc_error_details_format
    test_grpc_metadata_headers
    test_grpc_streaming_not_supported

test result: FAILED. 0 passed; 4 failed; 0 ignored; 0 measured; 6 filtered out; finished in 0.24s

--- test_section_23_grpc_features ---

running 4 tests
test test_grpc_error_codes_match_http ... FAILED
test test_grpc_error_details_format ... FAILED
test test_grpc_metadata_headers ... FAILED
test test_grpc_streaming_not_supported ... FAILED

failures:

---- test_grpc_error_codes_match_http stdout ----

thread 'test_grpc_error_codes_match_http' (2471775) panicked at crates/compatibility-tests/tests/test_section_23_grpc_features.rs:236:5:
gRPC error should be InvalidArgument: Error invoking method "openfga.v1.OpenFGAService/GetStore": failed to query for service descriptor "openfga.v1.OpenFGAService": server does not support the reflection API

note: run with `RUST_BACKTRACE=1` environment variable to display a backtrace

---- test_grpc_error_details_format stdout ----

thread 'test_grpc_error_details_format' (2471792) panicked at crates/compatibility-tests/tests/test_section_23_grpc_features.rs:333:5:
Error should contain error code: Error invoking method "openfga.v1.OpenFGAService/WriteAuthorizationModel": failed to query for service descriptor "openfga.v1.OpenFGAService": server does not support the reflection API


---- test_grpc_metadata_headers stdout ----

thread 'test_grpc_metadata_headers' (2471803) panicked at crates/compatibility-tests/tests/test_section_23_grpc_features.rs:170:5:
Request with custom headers should succeed: Error invoking method "openfga.v1.OpenFGAService/CreateStore": failed to query for service descriptor "openfga.v1.OpenFGAService": server does not support the reflection API


---- test_grpc_streaming_not_supported stdout ----
Error: grpcurl describe failed: Failed to resolve symbol "openfga.v1.OpenFGAService": server does not support the reflection API



failures:
    test_grpc_error_codes_match_http
    test_grpc_error_details_format
    test_grpc_metadata_headers
    test_grpc_streaming_not_supported

test result: FAILED. 0 passed; 4 failed; 0 ignored; 0 measured; 6 filtered out; finished in 0.24s

--- test_section_24_model_conditions ---

running 8 tests
test test_can_create_model_with_conditions ... ok
test test_can_retrieve_model_with_conditions ... ok
test test_condition_parameter_types ... ok
test test_condition_structure_name_expression_parameters ... ok
test test_condition_uses_cel_syntax ... ok
test test_invalid_condition_expression_returns_400 ... FAILED
test test_relation_references_condition ... ok
test test_undefined_condition_reference_returns_400 ... FAILED

failures:

---- test_invalid_condition_expression_returns_400 stdout ----

thread 'test_invalid_condition_expression_returns_400' (2471858) panicked at crates/compatibility-tests/tests/test_section_24_model_conditions.rs:463:5:
assertion `left == right` failed: Invalid CEL expression should return 400
  left: 201
 right: 400
note: run with `RUST_BACKTRACE=1` environment variable to display a backtrace

---- test_undefined_condition_reference_returns_400 stdout ----

thread 'test_undefined_condition_reference_returns_400' (2471862) panicked at crates/compatibility-tests/tests/test_section_24_model_conditions.rs:519:5:
assertion `left == right` failed: Undefined condition reference should return 400
  left: 201
 right: 400


failures:
    test_invalid_condition_expression_returns_400
    test_undefined_condition_reference_returns_400

test result: FAILED. 6 passed; 2 failed; 0 ignored; 0 measured; 6 filtered out; finished in 0.27s

--- test_section_24_model_conditions ---

running 8 tests
test test_can_create_model_with_conditions ... ok
test test_can_retrieve_model_with_conditions ... ok
test test_condition_parameter_types ... ok
test test_condition_structure_name_expression_parameters ... ok
test test_condition_uses_cel_syntax ... ok
test test_invalid_condition_expression_returns_400 ... FAILED
test test_relation_references_condition ... ok
test test_undefined_condition_reference_returns_400 ... FAILED

failures:

---- test_invalid_condition_expression_returns_400 stdout ----

thread 'test_invalid_condition_expression_returns_400' (2471941) panicked at crates/compatibility-tests/tests/test_section_24_model_conditions.rs:463:5:
assertion `left == right` failed: Invalid CEL expression should return 400
  left: 201
 right: 400
note: run with `RUST_BACKTRACE=1` environment variable to display a backtrace

---- test_undefined_condition_reference_returns_400 stdout ----

thread 'test_undefined_condition_reference_returns_400' (2471949) panicked at crates/compatibility-tests/tests/test_section_24_model_conditions.rs:519:5:
assertion `left == right` failed: Undefined condition reference should return 400
  left: 201
 right: 400


failures:
    test_invalid_condition_expression_returns_400
    test_undefined_condition_reference_returns_400

test result: FAILED. 6 passed; 2 failed; 0 ignored; 0 measured; 6 filtered out; finished in 0.26s

--- test_section_25_tuple_conditions ---

running 7 tests
test test_can_delete_tuple_with_condition ... ok
test test_can_write_multiple_tuples_with_different_conditions ... ok
test test_can_write_tuple_with_condition_context ... ok
test test_can_write_tuple_with_condition_name ... ok
test test_condition_context_values_match_types ... ok
test test_writing_tuple_with_mismatched_context_types_returns_400 ... ok
test test_writing_tuple_with_undefined_condition_returns_400 ... FAILED

failures:

---- test_writing_tuple_with_undefined_condition_returns_400 stdout ----

thread 'test_writing_tuple_with_undefined_condition_returns_400' (2471990) panicked at crates/compatibility-tests/tests/test_section_25_tuple_conditions.rs:240:5:
assertion `left == right` failed: Writing tuple with undefined condition should return 400
  left: 200
 right: 400
note: run with `RUST_BACKTRACE=1` environment variable to display a backtrace


failures:
    test_writing_tuple_with_undefined_condition_returns_400

test result: FAILED. 6 passed; 1 failed; 0 ignored; 0 measured; 6 filtered out; finished in 0.28s

--- test_section_25_tuple_conditions ---

running 7 tests
test test_can_delete_tuple_with_condition ... ok
test test_can_write_multiple_tuples_with_different_conditions ... ok
test test_can_write_tuple_with_condition_context ... ok
test test_can_write_tuple_with_condition_name ... ok
test test_condition_context_values_match_types ... ok
test test_writing_tuple_with_mismatched_context_types_returns_400 ... ok
test test_writing_tuple_with_undefined_condition_returns_400 ... FAILED

failures:

---- test_writing_tuple_with_undefined_condition_returns_400 stdout ----

thread 'test_writing_tuple_with_undefined_condition_returns_400' (2472030) panicked at crates/compatibility-tests/tests/test_section_25_tuple_conditions.rs:240:5:
assertion `left == right` failed: Writing tuple with undefined condition should return 400
  left: 200
 right: 400
note: run with `RUST_BACKTRACE=1` environment variable to display a backtrace


failures:
    test_writing_tuple_with_undefined_condition_returns_400

test result: FAILED. 6 passed; 1 failed; 0 ignored; 0 measured; 6 filtered out; finished in 0.29s

--- test_section_26_read_conditions ---

running 4 tests
test test_read_filter_tuples_by_condition ... FAILED
test test_read_returns_tuple_with_condition_context ... ok
test test_read_returns_tuple_with_condition_name ... ok
test test_tuple_response_format_matches_spec ... ok

failures:

---- test_read_filter_tuples_by_condition stdout ----

thread 'test_read_filter_tuples_by_condition' (2472056) panicked at crates/compatibility-tests/tests/test_section_26_read_conditions.rs:246:5:
Reading tuples should succeed
note: run with `RUST_BACKTRACE=1` environment variable to display a backtrace


failures:
    test_read_filter_tuples_by_condition

test result: FAILED. 3 passed; 1 failed; 0 ignored; 0 measured; 6 filtered out; finished in 0.26s

--- test_section_26_read_conditions ---

running 4 tests
test test_read_filter_tuples_by_condition ... FAILED
test test_read_returns_tuple_with_condition_context ... ok
test test_read_returns_tuple_with_condition_name ... ok
test test_tuple_response_format_matches_spec ... ok

failures:

---- test_read_filter_tuples_by_condition stdout ----

thread 'test_read_filter_tuples_by_condition' (2472095) panicked at crates/compatibility-tests/tests/test_section_26_read_conditions.rs:246:5:
Reading tuples should succeed
note: run with `RUST_BACKTRACE=1` environment variable to display a backtrace


failures:
    test_read_filter_tuples_by_condition

test result: FAILED. 3 passed; 1 failed; 0 ignored; 0 measured; 6 filtered out; finished in 0.26s

--- test_section_27_check_conditions ---

running 12 tests
test test_batch_check_evaluates_conditions ... FAILED
test test_check_accepts_context_parameter ... FAILED
test test_check_returns_false_when_condition_evaluates_false ... FAILED
test test_check_returns_true_when_condition_evaluates_true ... FAILED
test test_check_with_partial_context_returns_error ... FAILED
test test_check_with_wrong_context_type_returns_error ... FAILED
test test_check_without_required_context_returns_error ... FAILED
test test_condition_evaluation_with_list_membership ... FAILED
test test_condition_evaluation_with_logical_operators ... FAILED
test test_condition_evaluation_with_string_operations ... FAILED
test test_condition_evaluation_with_timestamp_comparison ... FAILED
test test_contextual_tuples_with_conditions ... FAILED

failures:

---- test_batch_check_evaluates_conditions stdout ----

thread 'test_batch_check_evaluates_conditions' (2472132) panicked at crates/compatibility-tests/tests/test_section_27_check_conditions.rs:929:5:
assertion `left == right` failed: Conditional check with valid context should return true
  left: Some(false)
 right: Some(true)
note: run with `RUST_BACKTRACE=1` environment variable to display a backtrace

---- test_check_accepts_context_parameter stdout ----

thread 'test_check_accepts_context_parameter' (2472137) panicked at crates/compatibility-tests/tests/test_section_27_check_conditions.rs:194:5:
Check API should accept context parameter, got: 500 Internal Server Error

---- test_check_returns_false_when_condition_evaluates_false stdout ----

thread 'test_check_returns_false_when_condition_evaluates_false' (2472139) panicked at crates/compatibility-tests/tests/test_section_27_check_conditions.rs:314:5:
assertion `left == right` failed: Check should return allowed: false when condition evaluates to false
  left: None
 right: Some(false)

---- test_check_returns_true_when_condition_evaluates_true stdout ----

thread 'test_check_returns_true_when_condition_evaluates_true' (2472141) panicked at crates/compatibility-tests/tests/test_section_27_check_conditions.rs:254:5:
assertion `left == right` failed: Check should return allowed: true when condition evaluates to true
  left: None
 right: Some(true)

---- test_check_with_partial_context_returns_error stdout ----

thread 'test_check_with_partial_context_returns_error' (2472143) panicked at crates/compatibility-tests/tests/test_section_27_check_conditions.rs:433:5:
Check with partial context should return error or false, got status: 500 Internal Server Error, body: Object {"code": String("internal_error"), "message": String("internal error during authorization check")}

---- test_check_with_wrong_context_type_returns_error stdout ----

thread 'test_check_with_wrong_context_type_returns_error' (2472145) panicked at crates/compatibility-tests/tests/test_section_27_check_conditions.rs:493:5:
Check with wrong context type should return error or false, got status: 500 Internal Server Error, body: Object {"code": String("internal_error"), "message": String("internal error during authorization check")}

---- test_check_without_required_context_returns_error stdout ----

thread 'test_check_without_required_context_returns_error' (2472147) panicked at crates/compatibility-tests/tests/test_section_27_check_conditions.rs:373:5:
Check without required context should return error or false, got status: 500 Internal Server Error, body: Object {"code": String("internal_error"), "message": String("internal error during authorization check")}

---- test_condition_evaluation_with_list_membership stdout ----

thread 'test_condition_evaluation_with_list_membership' (2472149) panicked at crates/compatibility-tests/tests/test_section_27_check_conditions.rs:697:5:
assertion `left == right` failed: List membership check should return true when role is in list
  left: None
 right: Some(true)

---- test_condition_evaluation_with_logical_operators stdout ----

thread 'test_condition_evaluation_with_logical_operators' (2472151) panicked at crates/compatibility-tests/tests/test_section_27_check_conditions.rs:783:5:
assertion `left == right` failed: Admin user should pass via OR condition
  left: None
 right: Some(true)

---- test_condition_evaluation_with_string_operations stdout ----

thread 'test_condition_evaluation_with_string_operations' (2472153) panicked at crates/compatibility-tests/tests/test_section_27_check_conditions.rs:613:5:
assertion `left == right` failed: String equality should evaluate correctly
  left: None
 right: Some(true)

---- test_condition_evaluation_with_timestamp_comparison stdout ----

thread 'test_condition_evaluation_with_timestamp_comparison' (2472155) panicked at crates/compatibility-tests/tests/test_section_27_check_conditions.rs:549:5:
Timestamp comparison should work

---- test_contextual_tuples_with_conditions stdout ----

thread 'test_contextual_tuples_with_conditions' (2472158) panicked at crates/compatibility-tests/tests/test_section_27_check_conditions.rs:997:9:
If not supported, should return 400, got: 500 Internal Server Error


failures:
    test_batch_check_evaluates_conditions
    test_check_accepts_context_parameter
    test_check_returns_false_when_condition_evaluates_false
    test_check_returns_true_when_condition_evaluates_true
    test_check_with_partial_context_returns_error
    test_check_with_wrong_context_type_returns_error
    test_check_without_required_context_returns_error
    test_condition_evaluation_with_list_membership
    test_condition_evaluation_with_logical_operators
    test_condition_evaluation_with_string_operations
    test_condition_evaluation_with_timestamp_comparison
    test_contextual_tuples_with_conditions

test result: FAILED. 0 passed; 12 failed; 0 ignored; 0 measured; 6 filtered out; finished in 0.34s

--- test_section_27_check_conditions ---

running 12 tests
test test_batch_check_evaluates_conditions ... FAILED
test test_check_accepts_context_parameter ... FAILED
test test_check_returns_false_when_condition_evaluates_false ... FAILED
test test_check_returns_true_when_condition_evaluates_true ... FAILED
test test_check_with_partial_context_returns_error ... FAILED
test test_check_with_wrong_context_type_returns_error ... FAILED
test test_check_without_required_context_returns_error ... FAILED
test test_condition_evaluation_with_list_membership ... FAILED
test test_condition_evaluation_with_logical_operators ... FAILED
test test_condition_evaluation_with_string_operations ... FAILED
test test_condition_evaluation_with_timestamp_comparison ... FAILED
test test_contextual_tuples_with_conditions ... FAILED

failures:

---- test_batch_check_evaluates_conditions stdout ----

thread 'test_batch_check_evaluates_conditions' (2472187) panicked at crates/compatibility-tests/tests/test_section_27_check_conditions.rs:929:5:
assertion `left == right` failed: Conditional check with valid context should return true
  left: Some(false)
 right: Some(true)
note: run with `RUST_BACKTRACE=1` environment variable to display a backtrace

---- test_check_accepts_context_parameter stdout ----

thread 'test_check_accepts_context_parameter' (2472194) panicked at crates/compatibility-tests/tests/test_section_27_check_conditions.rs:194:5:
Check API should accept context parameter, got: 500 Internal Server Error

---- test_check_returns_false_when_condition_evaluates_false stdout ----

thread 'test_check_returns_false_when_condition_evaluates_false' (2472196) panicked at crates/compatibility-tests/tests/test_section_27_check_conditions.rs:314:5:
assertion `left == right` failed: Check should return allowed: false when condition evaluates to false
  left: None
 right: Some(false)

---- test_check_returns_true_when_condition_evaluates_true stdout ----

thread 'test_check_returns_true_when_condition_evaluates_true' (2472198) panicked at crates/compatibility-tests/tests/test_section_27_check_conditions.rs:254:5:
assertion `left == right` failed: Check should return allowed: true when condition evaluates to true
  left: None
 right: Some(true)

---- test_check_with_partial_context_returns_error stdout ----

thread 'test_check_with_partial_context_returns_error' (2472200) panicked at crates/compatibility-tests/tests/test_section_27_check_conditions.rs:433:5:
Check with partial context should return error or false, got status: 500 Internal Server Error, body: Object {"code": String("internal_error"), "message": String("internal error during authorization check")}

---- test_check_with_wrong_context_type_returns_error stdout ----

thread 'test_check_with_wrong_context_type_returns_error' (2472202) panicked at crates/compatibility-tests/tests/test_section_27_check_conditions.rs:493:5:
Check with wrong context type should return error or false, got status: 500 Internal Server Error, body: Object {"code": String("internal_error"), "message": String("internal error during authorization check")}

---- test_check_without_required_context_returns_error stdout ----

thread 'test_check_without_required_context_returns_error' (2472204) panicked at crates/compatibility-tests/tests/test_section_27_check_conditions.rs:373:5:
Check without required context should return error or false, got status: 500 Internal Server Error, body: Object {"code": String("internal_error"), "message": String("internal error during authorization check")}

---- test_condition_evaluation_with_list_membership stdout ----

thread 'test_condition_evaluation_with_list_membership' (2472208) panicked at crates/compatibility-tests/tests/test_section_27_check_conditions.rs:697:5:
assertion `left == right` failed: List membership check should return true when role is in list
  left: None
 right: Some(true)

---- test_condition_evaluation_with_logical_operators stdout ----

thread 'test_condition_evaluation_with_logical_operators' (2472210) panicked at crates/compatibility-tests/tests/test_section_27_check_conditions.rs:783:5:
assertion `left == right` failed: Admin user should pass via OR condition
  left: None
 right: Some(true)

---- test_condition_evaluation_with_string_operations stdout ----

thread 'test_condition_evaluation_with_string_operations' (2472212) panicked at crates/compatibility-tests/tests/test_section_27_check_conditions.rs:613:5:
assertion `left == right` failed: String equality should evaluate correctly
  left: None
 right: Some(true)

---- test_condition_evaluation_with_timestamp_comparison stdout ----

thread 'test_condition_evaluation_with_timestamp_comparison' (2472214) panicked at crates/compatibility-tests/tests/test_section_27_check_conditions.rs:549:5:
Timestamp comparison should work

---- test_contextual_tuples_with_conditions stdout ----

thread 'test_contextual_tuples_with_conditions' (2472216) panicked at crates/compatibility-tests/tests/test_section_27_check_conditions.rs:997:9:
If not supported, should return 400, got: 500 Internal Server Error


failures:
    test_batch_check_evaluates_conditions
    test_check_accepts_context_parameter
    test_check_returns_false_when_condition_evaluates_false
    test_check_returns_true_when_condition_evaluates_true
    test_check_with_partial_context_returns_error
    test_check_with_wrong_context_type_returns_error
    test_check_without_required_context_returns_error
    test_condition_evaluation_with_list_membership
    test_condition_evaluation_with_logical_operators
    test_condition_evaluation_with_string_operations
    test_condition_evaluation_with_timestamp_comparison
    test_contextual_tuples_with_conditions

test result: FAILED. 0 passed; 12 failed; 0 ignored; 0 measured; 6 filtered out; finished in 0.38s

--- test_section_28_cel_edge_cases ---

running 8 tests
test test_cel_expression_division_by_zero ... ok
test test_cel_expression_timeout_behavior ... FAILED
test test_cel_expression_undefined_variable ... FAILED
test test_deeply_nested_map_values_in_context ... FAILED
test test_empty_context_no_required_params ... FAILED
test test_large_list_values_in_context ... FAILED
test test_null_values_in_context ... FAILED
test test_very_long_string_values_in_context ... FAILED

failures:

---- test_cel_expression_timeout_behavior stdout ----

thread 'test_cel_expression_timeout_behavior' (2472288) panicked at crates/compatibility-tests/tests/test_section_28_cel_edge_cases.rs:643:5:
Complex CEL expression should succeed, got: 500 Internal Server Error
note: run with `RUST_BACKTRACE=1` environment variable to display a backtrace

---- test_cel_expression_undefined_variable stdout ----

thread 'test_cel_expression_undefined_variable' (2472290) panicked at crates/compatibility-tests/tests/test_section_28_cel_edge_cases.rs:744:5:
Undefined variable access should error or return false, got status: 500 Internal Server Error, body: Object {"code": String("internal_error"), "message": String("internal error during authorization check")}

---- test_deeply_nested_map_values_in_context stdout ----

thread 'test_deeply_nested_map_values_in_context' (2472292) panicked at crates/compatibility-tests/tests/test_section_28_cel_edge_cases.rs:530:5:
Nested map should be handled, got: 500 Internal Server Error

---- test_empty_context_no_required_params stdout ----

thread 'test_empty_context_no_required_params' (2472294) panicked at crates/compatibility-tests/tests/test_section_28_cel_edge_cases.rs:100:5:
Check with no required params should return allowed: true

---- test_large_list_values_in_context stdout ----

thread 'test_large_list_values_in_context' (2472296) panicked at crates/compatibility-tests/tests/test_section_28_cel_edge_cases.rs:409:5:
Large list should be handled gracefully, got: 500 Internal Server Error

---- test_null_values_in_context stdout ----

thread 'test_null_values_in_context' (2472298) panicked at crates/compatibility-tests/tests/test_section_28_cel_edge_cases.rs:202:5:
Null value in context should be handled, got status: 500 Internal Server Error, body: Object {"code": String("internal_error"), "message": String("internal error during authorization check")}

---- test_very_long_string_values_in_context stdout ----

thread 'test_very_long_string_values_in_context' (2472300) panicked at crates/compatibility-tests/tests/test_section_28_cel_edge_cases.rs:302:5:
Very long string should be handled gracefully, got: 500 Internal Server Error


failures:
    test_cel_expression_timeout_behavior
    test_cel_expression_undefined_variable
    test_deeply_nested_map_values_in_context
    test_empty_context_no_required_params
    test_large_list_values_in_context
    test_null_values_in_context
    test_very_long_string_values_in_context

test result: FAILED. 1 passed; 7 failed; 0 ignored; 0 measured; 6 filtered out; finished in 0.27s

--- test_section_28_cel_edge_cases ---

running 8 tests
test test_cel_expression_division_by_zero ... ok
test test_cel_expression_timeout_behavior ... FAILED
test test_cel_expression_undefined_variable ... FAILED
test test_deeply_nested_map_values_in_context ... FAILED
test test_empty_context_no_required_params ... FAILED
test test_large_list_values_in_context ... FAILED
test test_null_values_in_context ... FAILED
test test_very_long_string_values_in_context ... FAILED

failures:

---- test_cel_expression_timeout_behavior stdout ----

thread 'test_cel_expression_timeout_behavior' (2472332) panicked at crates/compatibility-tests/tests/test_section_28_cel_edge_cases.rs:643:5:
Complex CEL expression should succeed, got: 500 Internal Server Error
note: run with `RUST_BACKTRACE=1` environment variable to display a backtrace

---- test_cel_expression_undefined_variable stdout ----

thread 'test_cel_expression_undefined_variable' (2472334) panicked at crates/compatibility-tests/tests/test_section_28_cel_edge_cases.rs:744:5:
Undefined variable access should error or return false, got status: 500 Internal Server Error, body: Object {"code": String("internal_error"), "message": String("internal error during authorization check")}

---- test_deeply_nested_map_values_in_context stdout ----

thread 'test_deeply_nested_map_values_in_context' (2472336) panicked at crates/compatibility-tests/tests/test_section_28_cel_edge_cases.rs:530:5:
Nested map should be handled, got: 500 Internal Server Error

---- test_empty_context_no_required_params stdout ----

thread 'test_empty_context_no_required_params' (2472339) panicked at crates/compatibility-tests/tests/test_section_28_cel_edge_cases.rs:100:5:
Check with no required params should return allowed: true

---- test_large_list_values_in_context stdout ----

thread 'test_large_list_values_in_context' (2472342) panicked at crates/compatibility-tests/tests/test_section_28_cel_edge_cases.rs:409:5:
Large list should be handled gracefully, got: 500 Internal Server Error

---- test_null_values_in_context stdout ----

thread 'test_null_values_in_context' (2472345) panicked at crates/compatibility-tests/tests/test_section_28_cel_edge_cases.rs:202:5:
Null value in context should be handled, got status: 500 Internal Server Error, body: Object {"code": String("internal_error"), "message": String("internal error during authorization check")}

---- test_very_long_string_values_in_context stdout ----

thread 'test_very_long_string_values_in_context' (2472347) panicked at crates/compatibility-tests/tests/test_section_28_cel_edge_cases.rs:302:5:
Very long string should be handled gracefully, got: 500 Internal Server Error


failures:
    test_cel_expression_timeout_behavior
    test_cel_expression_undefined_variable
    test_deeply_nested_map_values_in_context
    test_empty_context_no_required_params
    test_large_list_values_in_context
    test_null_values_in_context
    test_very_long_string_values_in_context

test result: FAILED. 1 passed; 7 failed; 0 ignored; 0 measured; 6 filtered out; finished in 0.29s

--- test_section_29_condition_performance ---

running 4 tests
test test_compare_conditional_vs_non_conditional_latency ... FAILED
test test_measure_batch_check_with_conditions ... ok
test test_measure_check_latency_complex_condition ... FAILED
test test_measure_check_latency_simple_condition ... FAILED

failures:

---- test_compare_conditional_vs_non_conditional_latency stdout ----

thread 'test_compare_conditional_vs_non_conditional_latency' (2472373) panicked at crates/compatibility-tests/tests/test_section_29_condition_performance.rs:531:9:
assertion failed: response.status().is_success()
note: run with `RUST_BACKTRACE=1` environment variable to display a backtrace

---- test_measure_check_latency_complex_condition stdout ----

thread 'test_measure_check_latency_complex_condition' (2472380) panicked at crates/compatibility-tests/tests/test_section_29_condition_performance.rs:293:9:
assertion failed: response.status().is_success()

---- test_measure_check_latency_simple_condition stdout ----

thread 'test_measure_check_latency_simple_condition' (2472382) panicked at crates/compatibility-tests/tests/test_section_29_condition_performance.rs:153:9:
assertion failed: response.status().is_success()


failures:
    test_compare_conditional_vs_non_conditional_latency
    test_measure_check_latency_complex_condition
    test_measure_check_latency_simple_condition

test result: FAILED. 1 passed; 3 failed; 0 ignored; 0 measured; 6 filtered out; finished in 0.29s

--- test_section_29_condition_performance ---

running 4 tests
test test_compare_conditional_vs_non_conditional_latency ... FAILED
test test_measure_batch_check_with_conditions ... ok
test test_measure_check_latency_complex_condition ... FAILED
test test_measure_check_latency_simple_condition ... FAILED

failures:

---- test_compare_conditional_vs_non_conditional_latency stdout ----

thread 'test_compare_conditional_vs_non_conditional_latency' (2472409) panicked at crates/compatibility-tests/tests/test_section_29_condition_performance.rs:531:9:
assertion failed: response.status().is_success()
note: run with `RUST_BACKTRACE=1` environment variable to display a backtrace

---- test_measure_check_latency_complex_condition stdout ----

thread 'test_measure_check_latency_complex_condition' (2472415) panicked at crates/compatibility-tests/tests/test_section_29_condition_performance.rs:293:9:
assertion failed: response.status().is_success()

---- test_measure_check_latency_simple_condition stdout ----

thread 'test_measure_check_latency_simple_condition' (2472417) panicked at crates/compatibility-tests/tests/test_section_29_condition_performance.rs:153:9:
assertion failed: response.status().is_success()


failures:
    test_compare_conditional_vs_non_conditional_latency
    test_measure_check_latency_complex_condition
    test_measure_check_latency_simple_condition

test result: FAILED. 1 passed; 3 failed; 0 ignored; 0 measured; 6 filtered out; finished in 0.29s

--- test_section_3 ---

running 8 tests
test test_can_capture_grpc_request_response_pairs ... ok
test test_can_capture_http_request_response_pairs ... ok
test test_can_compare_two_responses_for_equality ... ok
test test_can_detect_breaking_changes_in_arrays ... ok
test test_can_detect_breaking_changes_in_nested_objects ... ok
test test_can_detect_breaking_changes_in_response_format ... ok
test test_can_load_captured_test_cases_from_disk ... ok
test test_can_serialize_captured_data_to_json ... ok

test result: ok. 8 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out; finished in 0.00s

--- test_section_3 ---

running 8 tests
test test_can_capture_grpc_request_response_pairs ... ok
test test_can_capture_http_request_response_pairs ... ok
test test_can_compare_two_responses_for_equality ... ok
test test_can_detect_breaking_changes_in_arrays ... ok
test test_can_detect_breaking_changes_in_nested_objects ... ok
test test_can_detect_breaking_changes_in_response_format ... ok
test test_can_load_captured_test_cases_from_disk ... ok
test test_can_serialize_captured_data_to_json ... ok

test result: ok. 8 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out; finished in 0.00s

--- test_section_30_listusers_api ---

running 8 tests
test test_listusers_empty_result ... ok
test test_listusers_invalid_type_error ... ok
test test_listusers_nonexistent_store_error ... ok
test test_listusers_returns_users_with_direct_relation ... ok
test test_listusers_returns_wildcard ... ok
test test_listusers_with_computed_relations ... ok
test test_listusers_with_contextual_tuples ... ok
test test_listusers_with_userset_filter ... ok

test result: ok. 8 passed; 0 failed; 0 ignored; 0 measured; 6 filtered out; finished in 0.23s

--- test_section_30_listusers_api ---

running 8 tests
test test_listusers_empty_result ... ok
test test_listusers_invalid_type_error ... ok
test test_listusers_nonexistent_store_error ... ok
test test_listusers_returns_users_with_direct_relation ... ok
test test_listusers_returns_wildcard ... ok
test test_listusers_with_computed_relations ... ok
test test_listusers_with_contextual_tuples ... ok
test test_listusers_with_userset_filter ... ok

test result: ok. 8 passed; 0 failed; 0 ignored; 0 measured; 6 filtered out; finished in 0.24s

--- test_section_31_readchanges_api ---

running 10 tests
test test_readchanges_chronological_order ... FAILED
test test_readchanges_continuation_token ... FAILED
test test_readchanges_empty_for_new_store ... FAILED
test test_readchanges_nonexistent_store_error ... ok
test test_readchanges_pagination_page_size ... FAILED
test test_readchanges_returns_tuple_writes ... FAILED
test test_readchanges_returns_writes_and_deletes ... FAILED
test test_readchanges_same_token_when_no_changes ... FAILED
test test_readchanges_type_filter_mismatch_with_token ... FAILED
test test_readchanges_with_type_filter ... FAILED

failures:

---- test_readchanges_chronological_order stdout ----
Error: error decoding response body

Caused by:
    EOF while parsing a value at line 1 column 0

---- test_readchanges_continuation_token stdout ----
Error: error decoding response body

Caused by:
    EOF while parsing a value at line 1 column 0

---- test_readchanges_empty_for_new_store stdout ----

thread 'test_readchanges_empty_for_new_store' (2472660) panicked at crates/compatibility-tests/tests/test_section_31_readchanges_api.rs:613:5:
assertion failed: response.status().is_success()
note: run with `RUST_BACKTRACE=1` environment variable to display a backtrace

---- test_readchanges_pagination_page_size stdout ----

thread 'test_readchanges_pagination_page_size' (2472664) panicked at crates/compatibility-tests/tests/test_section_31_readchanges_api.rs:297:5:
assertion failed: response.status().is_success()

---- test_readchanges_returns_tuple_writes stdout ----

thread 'test_readchanges_returns_tuple_writes' (2472666) panicked at crates/compatibility-tests/tests/test_section_31_readchanges_api.rs:62:5:
ReadChanges should succeed, got: 404 Not Found

---- test_readchanges_returns_writes_and_deletes stdout ----

thread 'test_readchanges_returns_writes_and_deletes' (2472668) panicked at crates/compatibility-tests/tests/test_section_31_readchanges_api.rs:140:5:
assertion failed: response.status().is_success()

---- test_readchanges_same_token_when_no_changes stdout ----
Error: error decoding response body

Caused by:
    EOF while parsing a value at line 1 column 0

---- test_readchanges_type_filter_mismatch_with_token stdout ----
Error: error decoding response body

Caused by:
    EOF while parsing a value at line 1 column 0

---- test_readchanges_with_type_filter stdout ----

thread 'test_readchanges_with_type_filter' (2472674) panicked at crates/compatibility-tests/tests/test_section_31_readchanges_api.rs:232:5:
ReadChanges with type filter should succeed


failures:
    test_readchanges_chronological_order
    test_readchanges_continuation_token
    test_readchanges_empty_for_new_store
    test_readchanges_pagination_page_size
    test_readchanges_returns_tuple_writes
    test_readchanges_returns_writes_and_deletes
    test_readchanges_same_token_when_no_changes
    test_readchanges_type_filter_mismatch_with_token
    test_readchanges_with_type_filter

test result: FAILED. 1 passed; 9 failed; 0 ignored; 0 measured; 6 filtered out; finished in 0.50s

--- test_section_31_readchanges_api ---

running 10 tests
test test_readchanges_chronological_order ... FAILED
test test_readchanges_continuation_token ... FAILED
test test_readchanges_empty_for_new_store ... FAILED
test test_readchanges_nonexistent_store_error ... ok
test test_readchanges_pagination_page_size ... FAILED
test test_readchanges_returns_tuple_writes ... FAILED
test test_readchanges_returns_writes_and_deletes ... FAILED
test test_readchanges_same_token_when_no_changes ... FAILED
test test_readchanges_type_filter_mismatch_with_token ... FAILED
test test_readchanges_with_type_filter ... FAILED

failures:

---- test_readchanges_chronological_order stdout ----
Error: error decoding response body

Caused by:
    EOF while parsing a value at line 1 column 0

---- test_readchanges_continuation_token stdout ----
Error: error decoding response body

Caused by:
    EOF while parsing a value at line 1 column 0

---- test_readchanges_empty_for_new_store stdout ----

thread 'test_readchanges_empty_for_new_store' (2472793) panicked at crates/compatibility-tests/tests/test_section_31_readchanges_api.rs:613:5:
assertion failed: response.status().is_success()
note: run with `RUST_BACKTRACE=1` environment variable to display a backtrace

---- test_readchanges_pagination_page_size stdout ----

thread 'test_readchanges_pagination_page_size' (2472800) panicked at crates/compatibility-tests/tests/test_section_31_readchanges_api.rs:297:5:
assertion failed: response.status().is_success()

---- test_readchanges_returns_tuple_writes stdout ----

thread 'test_readchanges_returns_tuple_writes' (2472802) panicked at crates/compatibility-tests/tests/test_section_31_readchanges_api.rs:62:5:
ReadChanges should succeed, got: 404 Not Found

---- test_readchanges_returns_writes_and_deletes stdout ----

thread 'test_readchanges_returns_writes_and_deletes' (2472804) panicked at crates/compatibility-tests/tests/test_section_31_readchanges_api.rs:140:5:
assertion failed: response.status().is_success()

---- test_readchanges_same_token_when_no_changes stdout ----
Error: error decoding response body

Caused by:
    EOF while parsing a value at line 1 column 0

---- test_readchanges_type_filter_mismatch_with_token stdout ----
Error: error decoding response body

Caused by:
    EOF while parsing a value at line 1 column 0

---- test_readchanges_with_type_filter stdout ----

thread 'test_readchanges_with_type_filter' (2472810) panicked at crates/compatibility-tests/tests/test_section_31_readchanges_api.rs:232:5:
ReadChanges with type filter should succeed


failures:
    test_readchanges_chronological_order
    test_readchanges_continuation_token
    test_readchanges_empty_for_new_store
    test_readchanges_pagination_page_size
    test_readchanges_returns_tuple_writes
    test_readchanges_returns_writes_and_deletes
    test_readchanges_same_token_when_no_changes
    test_readchanges_type_filter_mismatch_with_token
    test_readchanges_with_type_filter

test result: FAILED. 1 passed; 9 failed; 0 ignored; 0 measured; 6 filtered out; finished in 0.48s

--- test_section_32_assertions_api ---

running 9 tests
test test_assertions_invalid_model_id_error ... ok
test test_assertions_mixed_expectations ... FAILED
test test_assertions_nonexistent_store_error ... ok
test test_assertions_with_contextual_tuples ... FAILED
test test_read_assertions_returns_assertions ... FAILED
test test_read_assertions_when_none_exist ... FAILED
test test_write_assertions_creates_assertions ... FAILED
test test_write_assertions_replaces_existing ... FAILED
test test_write_empty_assertions ... FAILED

failures:

---- test_assertions_mixed_expectations stdout ----

thread 'test_assertions_mixed_expectations' (2472842) panicked at crates/compatibility-tests/tests/test_section_32_assertions_api.rs:811:5:
assertion failed: write_response.status().is_success()
note: run with `RUST_BACKTRACE=1` environment variable to display a backtrace

---- test_assertions_with_contextual_tuples stdout ----

thread 'test_assertions_with_contextual_tuples' (2472846) panicked at crates/compatibility-tests/tests/test_section_32_assertions_api.rs:406:5:
WriteAssertions with contextual tuples should succeed

---- test_read_assertions_returns_assertions stdout ----

thread 'test_read_assertions_returns_assertions' (2472848) panicked at crates/compatibility-tests/tests/test_section_32_assertions_api.rs:153:5:
assertion failed: write_response.status().is_success()

---- test_read_assertions_when_none_exist stdout ----

thread 'test_read_assertions_when_none_exist' (2472850) panicked at crates/compatibility-tests/tests/test_section_32_assertions_api.rs:617:5:
ReadAssertions should succeed even when none exist

---- test_write_assertions_creates_assertions stdout ----

thread 'test_write_assertions_creates_assertions' (2472852) panicked at crates/compatibility-tests/tests/test_section_32_assertions_api.rs:90:5:
WriteAssertions should succeed, got: 404 Not Found

---- test_write_assertions_replaces_existing stdout ----

thread 'test_write_assertions_replaces_existing' (2472854) panicked at crates/compatibility-tests/tests/test_section_32_assertions_api.rs:301:5:
assertion failed: response.status().is_success()

---- test_write_empty_assertions stdout ----

thread 'test_write_empty_assertions' (2472856) panicked at crates/compatibility-tests/tests/test_section_32_assertions_api.rs:545:5:
Writing empty assertions should succeed


failures:
    test_assertions_mixed_expectations
    test_assertions_with_contextual_tuples
    test_read_assertions_returns_assertions
    test_read_assertions_when_none_exist
    test_write_assertions_creates_assertions
    test_write_assertions_replaces_existing
    test_write_empty_assertions

test result: FAILED. 2 passed; 7 failed; 0 ignored; 0 measured; 6 filtered out; finished in 0.27s

--- test_section_32_assertions_api ---

running 9 tests
test test_assertions_invalid_model_id_error ... ok
test test_assertions_mixed_expectations ... FAILED
test test_assertions_nonexistent_store_error ... ok
test test_assertions_with_contextual_tuples ... FAILED
test test_read_assertions_returns_assertions ... FAILED
test test_read_assertions_when_none_exist ... FAILED
test test_write_assertions_creates_assertions ... FAILED
test test_write_assertions_replaces_existing ... FAILED
test test_write_empty_assertions ... FAILED

failures:

---- test_assertions_mixed_expectations stdout ----

thread 'test_assertions_mixed_expectations' (2472886) panicked at crates/compatibility-tests/tests/test_section_32_assertions_api.rs:811:5:
assertion failed: write_response.status().is_success()
note: run with `RUST_BACKTRACE=1` environment variable to display a backtrace

---- test_assertions_with_contextual_tuples stdout ----

thread 'test_assertions_with_contextual_tuples' (2472891) panicked at crates/compatibility-tests/tests/test_section_32_assertions_api.rs:406:5:
WriteAssertions with contextual tuples should succeed

---- test_read_assertions_returns_assertions stdout ----

thread 'test_read_assertions_returns_assertions' (2472893) panicked at crates/compatibility-tests/tests/test_section_32_assertions_api.rs:153:5:
assertion failed: write_response.status().is_success()

---- test_read_assertions_when_none_exist stdout ----

thread 'test_read_assertions_when_none_exist' (2472895) panicked at crates/compatibility-tests/tests/test_section_32_assertions_api.rs:617:5:
ReadAssertions should succeed even when none exist

---- test_write_assertions_creates_assertions stdout ----

thread 'test_write_assertions_creates_assertions' (2472897) panicked at crates/compatibility-tests/tests/test_section_32_assertions_api.rs:90:5:
WriteAssertions should succeed, got: 404 Not Found

---- test_write_assertions_replaces_existing stdout ----

thread 'test_write_assertions_replaces_existing' (2472899) panicked at crates/compatibility-tests/tests/test_section_32_assertions_api.rs:301:5:
assertion failed: response.status().is_success()

---- test_write_empty_assertions stdout ----

thread 'test_write_empty_assertions' (2472901) panicked at crates/compatibility-tests/tests/test_section_32_assertions_api.rs:545:5:
Writing empty assertions should succeed


failures:
    test_assertions_mixed_expectations
    test_assertions_with_contextual_tuples
    test_read_assertions_returns_assertions
    test_read_assertions_when_none_exist
    test_write_assertions_creates_assertions
    test_write_assertions_replaces_existing
    test_write_empty_assertions

test result: FAILED. 2 passed; 7 failed; 0 ignored; 0 measured; 6 filtered out; finished in 0.26s

--- test_section_33_consistency_preference ---

running 9 tests
test test_batchcheck_accepts_consistency_parameter ... ok
test test_check_accepts_consistency_parameter ... ok
test test_check_with_higher_consistency ... ok
test test_check_with_unspecified_consistency ... ok
test test_consistency_modes_return_same_results ... ok
test test_expand_accepts_consistency_parameter ... ok
test test_invalid_consistency_value_error ... ok
test test_listobjects_accepts_consistency_parameter ... FAILED
test test_listusers_accepts_consistency_parameter ... ok

failures:

---- test_listobjects_accepts_consistency_parameter stdout ----

thread 'test_listobjects_accepts_consistency_parameter' (2472943) panicked at crates/compatibility-tests/tests/test_section_33_consistency_preference.rs:218:5:
assertion `left == right` failed: Should return 2 objects
  left: 0
 right: 2
note: run with `RUST_BACKTRACE=1` environment variable to display a backtrace


failures:
    test_listobjects_accepts_consistency_parameter

test result: FAILED. 8 passed; 1 failed; 0 ignored; 0 measured; 6 filtered out; finished in 0.27s

--- test_section_33_consistency_preference ---

running 9 tests
test test_batchcheck_accepts_consistency_parameter ... ok
test test_check_accepts_consistency_parameter ... ok
test test_check_with_higher_consistency ... ok
test test_check_with_unspecified_consistency ... ok
test test_consistency_modes_return_same_results ... ok
test test_expand_accepts_consistency_parameter ... ok
test test_invalid_consistency_value_error ... ok
test test_listobjects_accepts_consistency_parameter ... FAILED
test test_listusers_accepts_consistency_parameter ... ok

failures:

---- test_listobjects_accepts_consistency_parameter stdout ----

thread 'test_listobjects_accepts_consistency_parameter' (2472989) panicked at crates/compatibility-tests/tests/test_section_33_consistency_preference.rs:218:5:
assertion `left == right` failed: Should return 2 objects
  left: 0
 right: 2
note: run with `RUST_BACKTRACE=1` environment variable to display a backtrace


failures:
    test_listobjects_accepts_consistency_parameter

test result: FAILED. 8 passed; 1 failed; 0 ignored; 0 measured; 6 filtered out; finished in 0.29s

--- test_section_34_streamed_listobjects ---

running 5 tests
test test_streamed_listobjects_empty_results ... ok
test test_streamed_listobjects_error_handling ... ok
test test_streamed_listobjects_large_result_set ... ok
test test_streamed_listobjects_returns_same_as_listobjects ... ok
test test_streamed_listobjects_with_contextual_tuples ... ok

test result: ok. 5 passed; 0 failed; 0 ignored; 0 measured; 6 filtered out; finished in 0.08s

--- test_section_34_streamed_listobjects ---

running 5 tests
test test_streamed_listobjects_empty_results ... ok
test test_streamed_listobjects_error_handling ... ok
test test_streamed_listobjects_large_result_set ... ok
test test_streamed_listobjects_returns_same_as_listobjects ... ok
test test_streamed_listobjects_with_contextual_tuples ... ok

test result: ok. 5 passed; 0 failed; 0 ignored; 0 measured; 6 filtered out; finished in 0.09s

--- test_section_35_modular_models ---

running 7 tests
test test_create_model_schema_1_2 ... ok
test test_invalid_schema_version_error ... FAILED
test test_model_retrieval_includes_schema_version ... ok
test test_schema_1_2_backwards_compatible ... ok
test test_schema_1_2_computed_relation_compatibility ... ok
test test_schema_1_2_multi_type_model_compatibility ... ok
test test_schema_1_2_with_organization_type ... ok

failures:

---- test_invalid_schema_version_error stdout ----

thread 'test_invalid_schema_version_error' (2473274) panicked at crates/compatibility-tests/tests/test_section_35_modular_models.rs:340:5:
Creating model with invalid schema version should fail
note: run with `RUST_BACKTRACE=1` environment variable to display a backtrace


failures:
    test_invalid_schema_version_error

test result: FAILED. 6 passed; 1 failed; 0 ignored; 0 measured; 6 filtered out; finished in 0.28s

--- test_section_35_modular_models ---

running 7 tests
test test_create_model_schema_1_2 ... ok
test test_invalid_schema_version_error ... FAILED
test test_model_retrieval_includes_schema_version ... ok
test test_schema_1_2_backwards_compatible ... ok
test test_schema_1_2_computed_relation_compatibility ... ok
test test_schema_1_2_multi_type_model_compatibility ... ok
test test_schema_1_2_with_organization_type ... ok

failures:

---- test_invalid_schema_version_error stdout ----

thread 'test_invalid_schema_version_error' (2473314) panicked at crates/compatibility-tests/tests/test_section_35_modular_models.rs:340:5:
Creating model with invalid schema version should fail
note: run with `RUST_BACKTRACE=1` environment variable to display a backtrace


failures:
    test_invalid_schema_version_error

test result: FAILED. 6 passed; 1 failed; 0 ignored; 0 measured; 6 filtered out; finished in 0.27s

--- test_section_4 ---

running 9 tests
test test_delete_store_deletes_store ... ok
test test_delete_store_returns_400_for_nonexistent_store ... FAILED
test test_get_store_retrieves_store_by_id ... ok
test test_get_store_returns_400_for_nonexistent_store ... FAILED
test test_list_stores_continuation_token_works ... FAILED
test test_list_stores_respects_page_size_parameter ... FAILED
test test_list_stores_returns_paginated_results ... ok
test test_post_stores_creates_store_with_generated_id ... ok
test test_post_stores_returns_created_store_in_response ... ok

failures:

---- test_delete_store_returns_400_for_nonexistent_store stdout ----

thread 'test_delete_store_returns_400_for_nonexistent_store' (2473357) panicked at crates/compatibility-tests/tests/test_section_4.rs:244:5:
assertion `left == right` failed: DELETE non-existent store should return 400, got: 404 Not Found
  left: 404
 right: 400
note: run with `RUST_BACKTRACE=1` environment variable to display a backtrace

---- test_get_store_returns_400_for_nonexistent_store stdout ----

thread 'test_get_store_returns_400_for_nonexistent_store' (2473361) panicked at crates/compatibility-tests/tests/test_section_4.rs:171:5:
assertion `left == right` failed: GET non-existent store should return 400, got: 404 Not Found
  left: 404
 right: 400

---- test_list_stores_continuation_token_works stdout ----

thread 'test_list_stores_continuation_token_works' (2473363) panicked at crates/compatibility-tests/tests/test_section_4.rs:380:10:
continuation_token should be present when more results exist

---- test_list_stores_respects_page_size_parameter stdout ----

thread 'test_list_stores_respects_page_size_parameter' (2473368) panicked at crates/compatibility-tests/tests/test_section_4.rs:335:5:
assertion `left == right` failed: Page size=3 should return exactly 3 stores, got: 2318
  left: 2318
 right: 3


failures:
    test_delete_store_returns_400_for_nonexistent_store
    test_get_store_returns_400_for_nonexistent_store
    test_list_stores_continuation_token_works
    test_list_stores_respects_page_size_parameter

test result: FAILED. 5 passed; 4 failed; 0 ignored; 0 measured; 6 filtered out; finished in 0.32s

--- test_section_4 ---

running 9 tests
test test_delete_store_deletes_store ... ok
test test_delete_store_returns_400_for_nonexistent_store ... FAILED
test test_get_store_retrieves_store_by_id ... ok
test test_get_store_returns_400_for_nonexistent_store ... FAILED
test test_list_stores_continuation_token_works ... FAILED
test test_list_stores_respects_page_size_parameter ... FAILED
test test_list_stores_returns_paginated_results ... ok
test test_post_stores_creates_store_with_generated_id ... ok
test test_post_stores_returns_created_store_in_response ... ok

failures:

---- test_delete_store_returns_400_for_nonexistent_store stdout ----

thread 'test_delete_store_returns_400_for_nonexistent_store' (2473407) panicked at crates/compatibility-tests/tests/test_section_4.rs:244:5:
assertion `left == right` failed: DELETE non-existent store should return 400, got: 404 Not Found
  left: 404
 right: 400
note: run with `RUST_BACKTRACE=1` environment variable to display a backtrace

---- test_get_store_returns_400_for_nonexistent_store stdout ----

thread 'test_get_store_returns_400_for_nonexistent_store' (2473411) panicked at crates/compatibility-tests/tests/test_section_4.rs:171:5:
assertion `left == right` failed: GET non-existent store should return 400, got: 404 Not Found
  left: 404
 right: 400

---- test_list_stores_continuation_token_works stdout ----

thread 'test_list_stores_continuation_token_works' (2473413) panicked at crates/compatibility-tests/tests/test_section_4.rs:380:10:
continuation_token should be present when more results exist

---- test_list_stores_respects_page_size_parameter stdout ----

thread 'test_list_stores_respects_page_size_parameter' (2473416) panicked at crates/compatibility-tests/tests/test_section_4.rs:335:5:
assertion `left == right` failed: Page size=3 should return exactly 3 stores, got: 2346
  left: 2346
 right: 3


failures:
    test_delete_store_returns_400_for_nonexistent_store
    test_get_store_returns_400_for_nonexistent_store
    test_list_stores_continuation_token_works
    test_list_stores_respects_page_size_parameter

test result: FAILED. 5 passed; 4 failed; 0 ignored; 0 measured; 6 filtered out; finished in 0.34s

--- test_section_5 ---

running 9 tests
test test_can_create_model_with_computed_relations ... ok
test test_can_create_model_with_direct_relations ... ok
test test_can_create_model_with_this_keyword ... ok
test test_can_create_model_with_wildcards ... ok
test test_duplicate_type_definitions_return_error ... FAILED
test test_invalid_model_syntax_returns_400 ... ok
test test_model_creation_returns_generated_model_id ... ok
test test_post_authorization_model_creates_model ... ok
test test_undefined_relation_references_return_error ... FAILED

failures:

---- test_duplicate_type_definitions_return_error stdout ----

thread 'test_duplicate_type_definitions_return_error' (2473463) panicked at crates/compatibility-tests/tests/test_section_5.rs:493:5:
assertion `left == right` failed: Duplicate type definitions should return 400, got: 201 Created
  left: 201
 right: 400
note: run with `RUST_BACKTRACE=1` environment variable to display a backtrace

---- test_undefined_relation_references_return_error stdout ----

thread 'test_undefined_relation_references_return_error' (2473471) panicked at crates/compatibility-tests/tests/test_section_5.rs:545:5:
assertion `left == right` failed: Undefined relation reference should return 400, got: 201 Created
  left: 201
 right: 400


failures:
    test_duplicate_type_definitions_return_error
    test_undefined_relation_references_return_error

test result: FAILED. 7 passed; 2 failed; 0 ignored; 0 measured; 6 filtered out; finished in 0.27s

--- test_section_5 ---

running 9 tests
test test_can_create_model_with_computed_relations ... ok
test test_can_create_model_with_direct_relations ... ok
test test_can_create_model_with_this_keyword ... ok
test test_can_create_model_with_wildcards ... ok
test test_duplicate_type_definitions_return_error ... FAILED
test test_invalid_model_syntax_returns_400 ... ok
test test_model_creation_returns_generated_model_id ... ok
test test_post_authorization_model_creates_model ... ok
test test_undefined_relation_references_return_error ... FAILED

failures:

---- test_duplicate_type_definitions_return_error stdout ----

thread 'test_duplicate_type_definitions_return_error' (2473512) panicked at crates/compatibility-tests/tests/test_section_5.rs:493:5:
assertion `left == right` failed: Duplicate type definitions should return 400, got: 201 Created
  left: 201
 right: 400
note: run with `RUST_BACKTRACE=1` environment variable to display a backtrace

---- test_undefined_relation_references_return_error stdout ----

thread 'test_undefined_relation_references_return_error' (2473523) panicked at crates/compatibility-tests/tests/test_section_5.rs:545:5:
assertion `left == right` failed: Undefined relation reference should return 400, got: 201 Created
  left: 201
 right: 400


failures:
    test_duplicate_type_definitions_return_error
    test_undefined_relation_references_return_error

test result: FAILED. 7 passed; 2 failed; 0 ignored; 0 measured; 6 filtered out; finished in 0.27s

--- test_section_6 ---

running 6 tests
test test_can_retrieve_latest_model ... ok
test test_get_authorization_model_retrieves_model ... ok
test test_get_nonexistent_model_returns_error ... ok
test test_list_authorization_models ... ok
test test_model_response_includes_schema_version ... ok
test test_model_response_includes_type_definitions ... ok

test result: ok. 6 passed; 0 failed; 0 ignored; 0 measured; 6 filtered out; finished in 0.25s

--- test_section_6 ---

running 6 tests
test test_can_retrieve_latest_model ... ok
test test_get_authorization_model_retrieves_model ... ok
test test_get_nonexistent_model_returns_error ... ok
test test_list_authorization_models ... ok
test test_model_response_includes_schema_version ... ok
test test_model_response_includes_type_definitions ... ok

test result: ok. 6 passed; 0 failed; 0 ignored; 0 measured; 6 filtered out; finished in 0.24s

--- test_section_7_tuple_write ---

running 10 tests
test test_can_delete_tuple ... ok
test test_conditional_writes ... ok
test test_write_invalid_format_returns_400 ... ok
test test_write_multiple_tuples ... ok
test test_write_nonexistent_relation_returns_error ... FAILED
test test_write_nonexistent_type_returns_error ... FAILED
test test_write_returns_empty_response ... ok
test test_write_single_tuple ... ok
test test_write_without_store_returns_error ... ok
test test_writes_are_idempotent ... ok

failures:

---- test_write_nonexistent_relation_returns_error stdout ----

thread 'test_write_nonexistent_relation_returns_error' (2473698) panicked at crates/compatibility-tests/tests/test_section_7_tuple_write.rs:409:5:
assertion `left == right` failed: Writing tuple with non-existent relation should return 400, got: 200 OK
  left: 200
 right: 400
note: run with `RUST_BACKTRACE=1` environment variable to display a backtrace

---- test_write_nonexistent_type_returns_error stdout ----

thread 'test_write_nonexistent_type_returns_error' (2473700) panicked at crates/compatibility-tests/tests/test_section_7_tuple_write.rs:370:5:
assertion `left == right` failed: Writing tuple with non-existent type should return 400, got: 200 OK
  left: 200
 right: 400


failures:
    test_write_nonexistent_relation_returns_error
    test_write_nonexistent_type_returns_error

test result: FAILED. 8 passed; 2 failed; 0 ignored; 0 measured; 6 filtered out; finished in 0.30s

--- test_section_7_tuple_write ---

running 10 tests
test test_can_delete_tuple ... ok
test test_conditional_writes ... ok
test test_write_invalid_format_returns_400 ... ok
test test_write_multiple_tuples ... ok
test test_write_nonexistent_relation_returns_error ... FAILED
test test_write_nonexistent_type_returns_error ... FAILED
test test_write_returns_empty_response ... ok
test test_write_single_tuple ... ok
test test_write_without_store_returns_error ... ok
test test_writes_are_idempotent ... ok

failures:

---- test_write_nonexistent_relation_returns_error stdout ----

thread 'test_write_nonexistent_relation_returns_error' (2473752) panicked at crates/compatibility-tests/tests/test_section_7_tuple_write.rs:409:5:
assertion `left == right` failed: Writing tuple with non-existent relation should return 400, got: 200 OK
  left: 200
 right: 400
note: run with `RUST_BACKTRACE=1` environment variable to display a backtrace

---- test_write_nonexistent_type_returns_error stdout ----

thread 'test_write_nonexistent_type_returns_error' (2473754) panicked at crates/compatibility-tests/tests/test_section_7_tuple_write.rs:370:5:
assertion `left == right` failed: Writing tuple with non-existent type should return 400, got: 200 OK
  left: 200
 right: 400


failures:
    test_write_nonexistent_relation_returns_error
    test_write_nonexistent_type_returns_error

test result: FAILED. 8 passed; 2 failed; 0 ignored; 0 measured; 6 filtered out; finished in 0.29s

--- test_section_8_tuple_read ---

running 9 tests
test test_read_continuation_token ... ok
test test_read_respects_page_size ... ok
test test_read_returns_empty_when_no_matches ... FAILED
test test_read_tuples_by_filter ... ok
test test_read_with_empty_filter ... ok
test test_read_with_multiple_filters ... ok
test test_read_with_object_filter ... FAILED
test test_read_with_relation_filter ... FAILED
test test_read_with_user_filter ... FAILED

failures:

---- test_read_returns_empty_when_no_matches stdout ----

thread 'test_read_returns_empty_when_no_matches' (2473795) panicked at crates/compatibility-tests/tests/test_section_8_tuple_read.rs:493:10:
tuples field should be an array
note: run with `RUST_BACKTRACE=1` environment variable to display a backtrace

---- test_read_with_object_filter stdout ----

thread 'test_read_with_object_filter' (2473806) panicked at crates/compatibility-tests/tests/test_section_8_tuple_read.rs:215:10:
tuples field should be an array

---- test_read_with_relation_filter stdout ----

thread 'test_read_with_relation_filter' (2473808) panicked at crates/compatibility-tests/tests/test_section_8_tuple_read.rs:156:10:
tuples field should be an array

---- test_read_with_user_filter stdout ----

thread 'test_read_with_user_filter' (2473810) panicked at crates/compatibility-tests/tests/test_section_8_tuple_read.rs:94:10:
tuples field should be an array


failures:
    test_read_returns_empty_when_no_matches
    test_read_with_object_filter
    test_read_with_relation_filter
    test_read_with_user_filter

test result: FAILED. 5 passed; 4 failed; 0 ignored; 0 measured; 6 filtered out; finished in 0.29s

--- test_section_8_tuple_read ---

running 9 tests
test test_read_continuation_token ... ok
test test_read_respects_page_size ... ok
test test_read_returns_empty_when_no_matches ... FAILED
test test_read_tuples_by_filter ... ok
test test_read_with_empty_filter ... ok
test test_read_with_multiple_filters ... ok
test test_read_with_object_filter ... FAILED
test test_read_with_relation_filter ... FAILED
test test_read_with_user_filter ... FAILED

failures:

---- test_read_returns_empty_when_no_matches stdout ----

thread 'test_read_returns_empty_when_no_matches' (2473842) panicked at crates/compatibility-tests/tests/test_section_8_tuple_read.rs:493:10:
tuples field should be an array
note: run with `RUST_BACKTRACE=1` environment variable to display a backtrace

---- test_read_with_object_filter stdout ----

thread 'test_read_with_object_filter' (2473850) panicked at crates/compatibility-tests/tests/test_section_8_tuple_read.rs:215:10:
tuples field should be an array

---- test_read_with_relation_filter stdout ----

thread 'test_read_with_relation_filter' (2473852) panicked at crates/compatibility-tests/tests/test_section_8_tuple_read.rs:156:10:
tuples field should be an array

---- test_read_with_user_filter stdout ----

thread 'test_read_with_user_filter' (2473854) panicked at crates/compatibility-tests/tests/test_section_8_tuple_read.rs:94:10:
tuples field should be an array


failures:
    test_read_returns_empty_when_no_matches
    test_read_with_object_filter
    test_read_with_relation_filter
    test_read_with_user_filter

test result: FAILED. 5 passed; 4 failed; 0 ignored; 0 measured; 6 filtered out; finished in 0.28s

--- test_section_9_tuple_edge_cases ---

running 6 tests
test test_identifiers_at_size_limit ... FAILED
test test_identifiers_over_size_limit ... ok
test test_read_tuple_with_userset ... FAILED
test test_special_characters_in_identifiers ... ok
test test_unicode_in_identifiers ... FAILED
test test_write_tuple_with_wildcard ... ok

failures:

---- test_identifiers_at_size_limit stdout ----

thread 'test_identifiers_at_size_limit' (2473880) panicked at crates/compatibility-tests/tests/test_section_9_tuple_edge_cases.rs:158:5:
Write with IDs at size limits should succeed, got: 400 Bad Request
note: run with `RUST_BACKTRACE=1` environment variable to display a backtrace

---- test_read_tuple_with_userset stdout ----

thread 'test_read_tuple_with_userset' (2473889) panicked at crates/compatibility-tests/tests/test_section_9_tuple_edge_cases.rs:100:10:
tuples field should be an array

---- test_unicode_in_identifiers stdout ----

thread 'test_unicode_in_identifiers' (2473893) panicked at crates/compatibility-tests/tests/test_section_9_tuple_edge_cases.rs:321:9:
Read should succeed for Unicode tuple (user:用户123, document:文档), got: 400 Bad Request


failures:
    test_identifiers_at_size_limit
    test_read_tuple_with_userset
    test_unicode_in_identifiers

test result: FAILED. 3 passed; 3 failed; 0 ignored; 0 measured; 6 filtered out; finished in 0.27s

--- test_section_9_tuple_edge_cases ---

running 6 tests
test test_identifiers_at_size_limit ... FAILED
test test_identifiers_over_size_limit ... ok
test test_read_tuple_with_userset ... FAILED
test test_special_characters_in_identifiers ... ok
test test_unicode_in_identifiers ... FAILED
test test_write_tuple_with_wildcard ... ok

failures:

---- test_identifiers_at_size_limit stdout ----

thread 'test_identifiers_at_size_limit' (2473922) panicked at crates/compatibility-tests/tests/test_section_9_tuple_edge_cases.rs:158:5:
Write with IDs at size limits should succeed, got: 400 Bad Request
note: run with `RUST_BACKTRACE=1` environment variable to display a backtrace

---- test_read_tuple_with_userset stdout ----

thread 'test_read_tuple_with_userset' (2473971) panicked at crates/compatibility-tests/tests/test_section_9_tuple_edge_cases.rs:100:10:
tuples field should be an array

---- test_unicode_in_identifiers stdout ----

thread 'test_unicode_in_identifiers' (2473975) panicked at crates/compatibility-tests/tests/test_section_9_tuple_edge_cases.rs:321:9:
Read should succeed for Unicode tuple (user:用户123, document:文档), got: 400 Bad Request


failures:
    test_identifiers_at_size_limit
    test_read_tuple_with_userset
    test_unicode_in_identifiers

test result: FAILED. 3 passed; 3 failed; 0 ignored; 0 measured; 6 filtered out; finished in 0.28s

============================================================
TOTAL: 288 passed, 212 failed
============================================================
