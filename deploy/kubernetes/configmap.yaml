apiVersion: v1
kind: ConfigMap
metadata:
  name: rsfga-config
  namespace: rsfga
  labels:
    app.kubernetes.io/name: rsfga
    app.kubernetes.io/component: configuration
data:
  config.yaml: |
    server:
      host: "0.0.0.0"
      port: 8080
      request_timeout_secs: 30
      max_connections: 1000

    storage:
      backend: postgres
      # Pool size should be ~2-5% of max_connections for reasonable DB load
      pool_size: 20
      connection_timeout_secs: 5

    logging:
      level: info
      json: true

    metrics:
      enabled: true
      path: /metrics

    tracing:
      enabled: false
      jaeger_endpoint: "jaeger-collector.observability:6831"
      service_name: rsfga
